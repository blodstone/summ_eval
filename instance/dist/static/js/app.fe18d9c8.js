(function(t){function e(e){for(var s,o,r=e[0],l=e[1],c=e[2],u=0,d=[];u<r.length;u++)o=r[u],a[o]&&d.push(a[o][0]),a[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);h&&h(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,r=1;r<n.length;r++){var l=n[r];0!==a[l]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},a={app:0},i=[];function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var h=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0e77":function(t,e,n){"use strict";var s=n("92fc"),a=n.n(s);a.a},"115f":function(t,e,n){},1385:function(t,e,n){"use strict";var s=n("a5a7"),a=n.n(s);a.a},"13eb":function(t,e,n){"use strict";var s=n("f2af"),a=n.n(s);a.a},"2b71":function(t,e,n){t.exports=n.p+"static/img/highlight_menu.f18c2aa2.png"},"2c9a":function(t,e,n){"use strict";var s=n("73b2"),a=n.n(s);a.a},3068:function(t,e,n){},3813:function(t,e,n){},"413b":function(t,e,n){"use strict";var s=n("e3f1"),a=n.n(s);a.a},4236:function(t,e,n){"use strict";var s=n("115f"),a=n.n(s);a.a},"4b08":function(t,e,n){},5198:function(t,e,n){"use strict";var s=n("5739"),a=n.n(s);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var s=n("2b0e"),a=n("8a03"),i=n.n(a),o=(n("5abe"),n("a23f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"clearfix"},[n("router-view")],1)}),r=[],l=(n("5c0b"),n("2877")),c={},h=Object(l["a"])(c,o,r,!1,null,null,null);h.options.__file="App.vue";var u=h.exports,d=n("8c4f"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container is-fluid home"},[n("div",{staticClass:"columns",style:{display:t.display.landing}},[n("div",{staticClass:"column is-8 is-offset-2 box content"},[n(t.dynamicLanding,{tag:"component"}),n("div",{staticStyle:{"margin-bottom":"2rem"},attrs:{align:"center"}},[n("button",{staticClass:"button is-primary is-large",on:{click:function(e){t.closeLanding()}}},[t._v("I consent")])])],1)]),n("div",{staticClass:"columns",style:{display:t.display.content}},[n("div",{staticClass:"column is-3"},[n("div",{staticClass:"box instruction"},[n("div",{staticClass:"content"},[n("h2",[t._v("\n            Instructions\n          ")]),t._m(0),t._m(1),n("p",{staticClass:"my-text"},[t._v("The maximum length of the highlighted phrases is "),n("strong",[t._v(t._s(t.maxTokens)+" words.")])]),n("hr"),t._m(2),t._m(3),t._m(4)])])]),n("div",{staticClass:"column"},[n("div",{staticClass:"box document"},[n("Document",{attrs:{project_id:t.project_id,maxTokens:t.maxTokens},on:{highlight:t.updateSummaryBox,noDocument:function(e){t.showMessage("<h1>There are no more documents available!</h1>")},annotationDone:t.showTest}})],1)]),n("div",{staticClass:"column is-3"},[n("div",{staticClass:"box summary"},[n("div",{staticClass:"content"},[n("h2",[t._v("Summary")]),n("h4",{staticClass:"my-title"},[t._v("Words left")]),n("p",[t._v(t._s(t.tokensLeft)+" words.")]),n("hr"),n("h5",{staticClass:"my-title"},[t._v("Highlighted Phrases:")]),n("p",{domProps:{innerHTML:t._s(t.summaries)}})])])])]),n("div",{staticClass:"columns",style:{display:t.display.message}},[n("div",{staticClass:"column is-8 is-offset-2 box content"},[n("div",{attrs:{align:"center"},domProps:{innerHTML:t._s(t.message)}})])]),n("div",{staticClass:"columns",style:{display:t.display.test}},[n("div",{staticClass:"column is-8 is-offset-2 box content"},[n("div",{attrs:{align:"center"}},[n("h3",[t._v("Please Answer the Following Question")]),n("div",{domProps:{innerHTML:t._s(t.test_sentence)}}),n("div",{staticClass:"block"},[n("b-radio",{attrs:{"native-value":"True"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("\n                     True\n                 ")]),n("b-radio",{attrs:{"native-value":"False"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("\n                     False\n                 ")])],1),n("hr"),n("div",{style:{display:t.mTurkDisplay}},[n("p",[t._v("\n                     Please enter an email to be included in a lucky draw\n                     or leave it blank to opt out:\n                 ")]),n("b-field",[n("b-input",{staticStyle:{width:"250px"},attrs:{placeholder:"Your email","icon-pack":"fas",icon:"envelope"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),n("div",{staticStyle:{"margin-top":"5px"}},[n("button",{staticClass:"button is-primary",on:{click:t.sendResult}},[t._v("Submit")])])])])])])},p=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"my-text"},[t._v("Your task is "),n("strong",[t._v("to select important phrases")]),t._v(" from the document by highlighting them.")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"my-text"},[t._v("Select phrases that are the most informative, "),n("strong",[t._v("use the "),n("a",{attrs:{target:"_blank",href:"https://en.wikipedia.org/wiki/Five_Ws"}},[t._v("5W1H principle")]),t._v(" (who, what, when, where, why and how) to determine the informativeness of a phrase.")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"my-text"},[n("strong",[t._v("To highlight, use your mouse to select phrases from the document")]),t._v(", when you have finished, selected words will automatically count as a group of highlight.")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"my-text"},[n("strong",[t._v("To delete a group of highlights, right click on the highlight ")]),t._v("in the document panel.")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"my-text"},[n("strong",[t._v("Clicking on phrases that are colored as blue")]),t._v(" will show you related phrases that are referring to them.")])}],f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{ref:"document",on:{mouseup:t.showHighlightMenu,contextmenu:function(e){return e.preventDefault(),t.deleteHighlightGroup(e)},click:t.showMentions}}),s("hr"),s("div",{attrs:{align:"center"}},[s("button",{staticClass:"button is-primary",attrs:{disabled:t.timer.isRunning},on:{click:function(e){t.saveAnnotation()}}},[t._v(t._s(t.timenow))])]),s("div",{style:t.floatMenu},[s("img",{attrs:{src:n("2b71"),width:"35",alt:"Highlight"},on:{click:t.highlightSelection}}),s("div",{staticStyle:{"background-color":"#32A0C1",color:"white"},attrs:{align:"center"}},[t._v("\n            "+t._s(t.selectedTokens)+"\n        ")])])])},v=[],g=(n("6b54"),n("84b4"),n("6762"),n("2fdb"),n("ac6a"),n("456d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{ref:"word",attrs:{"data-type":t.type,"data-index":t.index}})}),_=[],y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{style:t.charStyle,attrs:{"data-type":t.type,"data-index":t.index}},[t._t("default")],2)},b=[],w={name:"Char",props:["index","fgColor","bgColor","type","fontWeight","cursor","compIndex"],data:function(){return{charStyle:{"background-color":this.bgColor,color:this.fgColor,"font-weight":this.fontWeight,cursor:this.cursor}}},methods:{highlight:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.charStyle["background-color"]=t,this.charStyle.opacity=e},rmHighlight:function(){this.charStyle["background-color"]="#ffffff",this.charStyle.opacity=1}}},C=w,k=(n("9ffa"),Object(l["a"])(C,y,b,!1,null,"9015041a",null));k.options.__file="Char.vue";var x=k.exports,j=s["default"].extend(x),$={name:"Word",props:["index","sentIndex","tokenIndex","word","type","isSource","compIndex"],data:function(){return{chars:[]}},methods:{getTokensLength:function(){return this.chars.length},annotate:function(){var t=this;this.chars.forEach(function(e,n){t.chars[n].$data.charStyle.color="#ff00ff",t.chars[n].$data.charStyle["font-weight"]="bold"})},resetAnnotation:function(){var t=this;this.isSource?this.chars.forEach(function(e,n){t.chars[n].$data.charStyle.color="#3878E5",t.chars[n].$data.charStyle.cursor="pointer",t.chars[n].$data.charStyle["font-weight"]="bold"}):this.chars.forEach(function(e,n){t.chars[n].$data.charStyle.color="#000000",t.chars[n].$data.charStyle.cursor="text",t.chars[n].$data.charStyle["font-weight"]="normal"})},highlight:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.chars.forEach(function(s,a){e.chars[a].$data.charStyle["background-color"]=t,e.chars[a].$data.charStyle.opacity=n})},rmHighlight:function(){var t=this;this.chars.forEach(function(e,n){t.chars[n].$data.charStyle["background-color"]="#ffffff",t.chars[n].$data.charStyle.opacity=1})}},mounted:function(){for(var t=0;t<this.word.length;t+=1){var e="#000000",n="normal",s="text";!0===this.isSource&&(e="#3878E5",n="bold",s="pointer");var a=new j({propsData:{index:this.index,bgColor:"#ffffff",fgColor:e,fontWeight:n,type:"char",cursor:s}});a.$slots.default=[this.word[t]],this.chars.push(a),a.$mount(),this.$refs.word.appendChild(a.$el)}}},S=$,E=(n("a758"),Object(l["a"])(S,g,_,!1,null,"82e2faa2",null));E.options.__file="Word.vue";var T=E.exports,I=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},D=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("br"),n("br")])}],A={name:"LineBreaker"},P=A,N=(n("5198"),Object(l["a"])(P,I,D,!1,null,"4d94e7ae",null));N.options.__file="LineBreaker.vue";var O=N.exports,L=30,M=n("bc3a");function H(t,e,n,a){var i=s["default"].extend(T),o=e.word;"-LRB-"===o?o="(":"-RRB-"===o?o=")":"``"===o?o='"':"''"===o&&(o='"');var r=new i({propsData:{sentIndex:t.index,tokenIndex:e.index,word:o,index:n,compIndex:this.components.length,type:"word",isSource:a.isSource}});r.$mount(),!0===a.isSource&&(this.words2corefID[n]=a.corefID),this.components.push(r),this.words[n]=r,this.words2Groups[n]=[],this.$refs.document.appendChild(r.$el)}function R(t,e){var n=s["default"].extend(x),a=new n({propsData:{bgColor:"#ffffff",type:"whitespace",index:e,compIndex:this.components.length}});a.$slots.default=[t],a.$mount(),this.components.push(a),this.whitespaces[e]=a,this.whitespaces2Groups[e]=[],this.$refs.document.appendChild(a.$el)}function W(){var t=s["default"].extend(O),e=new t;e.$mount(),this.$refs.document.appendChild(e.$el)}function z(){this.rawSummariesHTML="";for(var t="",e=0;e<Object.keys(this.groups).length;e+=1){var n=Object.keys(this.groups)[e];t="<p style='background-color: ".concat(this.group2color[n],"'>").concat(e+1,": ");for(var s=0;s<this.groups[n].length;s+=1){var a=this.groups[n][s];"word"===a.$props.type&&(t="".concat(t," ").concat(a.$props.word))}t="".concat(t,"</p>"),this.rawSummariesHTML="".concat(this.rawSummariesHTML).concat(t)}}function G(t){var e=this,n={};Object.keys(t.corefs).forEach(function(e){var s=parseInt(e,10),a=t.corefs[s][0].id;a in n||(n[a]=[]);for(var i=0;i<t.corefs[s].length;i+=1)n[a].push(t.corefs[s][i])}),Object.keys(n).forEach(function(t){for(var s=parseInt(t,10),a=0;a<n[s].length;a+=1){var i=n[s][a];s in e.srcCorefID2mentionsCorefID||(e.srcCorefID2mentionsCorefID[s]=[]),e.srcCorefID2mentionsCorefID[s].push(i.id),i.id in e.mentions||(e.mentions[i.id]={id:i.id,startIndex:i.startIndex,endIndex:i.endIndex,sentIndex:i.sentNum}),s===i.id&&(i.sentNum in e.sentNum2srcCorefID||(e.sentNum2srcCorefID[i.sentNum]=[]),e.sentNum2srcCorefID[i.sentNum].push(s))}})}function q(t,e){if(t.index+1 in this.sentNum2srcCorefID)for(var n=this.sentNum2srcCorefID[t.index+1],s=0;s<n.length;s+=1)if(e.index>=this.mentions[n[s]].startIndex&&e.index<this.mentions[n[s]].endIndex)return{isSource:!0,corefID:n[s]};return!1}function F(){var t="The statement below is correct:";this.test_sentence="".concat(t,"<blockquote>").concat(this.sanity_statement,"</blockquote>")}function Y(t){var e=0,n=0,s=t.paragraph.endSentIndex;G.call(this,t);for(var a=0;a<t.sentences.length;a+=1){for(var i=t.sentences[a],o=0;o<i.tokens.length;o+=1){var r=i.tokens[o],l=q.call(this,i,r);H.call(this,i,r,e,l),o!==i.tokens.length-2&&(R.call(this," ",n),n+=1),e+=1}s.includes(i.index+1)&&W.call(this)}F.call(this)}function B(){var t=this;M.get("project/annotation/highlight/".concat(this.project_id,"/single_doc")).then(function(e){t.doc_status_id=e.data.doc_status_id,t.result_id=e.data.result_id,t.turkCode=e.data.turk_code,t.sanity_statement=e.data.sanity_statement,t.sanity_answer=e.data.sanity_answer,Y.call(t,JSON.parse(e.data.doc_json))}).catch(function(){t.$emit("noDocument")})}function J(t){t&&(t.empty?t.empty():t.removeAllRanges&&t.removeAllRanges())}function U(){return window.getSelection?window.getSelection():document.getSelection?document.getSelection():document.selection?document.selection.createRange().text:null}function K(t){return 0===this.whitespaces2Groups[t].length?-1:this.whitespaces2Groups[t][this.whitespaces2Groups[t].length-1]}function Q(t){return 0===this.words2Groups[t].length?-1:this.words2Groups[t][this.words2Groups[t].length-1]}function V(t,e,n){var s=[],a=!1;return this.groups[n].forEach(function(e){e===t&&(a=!0)}),!1===a&&s.push(t),s}function X(t,e,n,s){for(var a=0;a<t.length;a+=1){var i=t[a];this.groups[s].push(i),this.whitespaces2Groups[i.index].push(s),i.$data.charStyle["background-color"]=n}for(var o=0;o<e.length;o+=1){var r=e[o];this.groups[s].push(r),this.words2Groups[r.index].push(s),r.highlight(n)}}var Z={name:"Document",props:["project_id","maxTokens"],data:function(){return{doc_status_id:"",timer:{now:Math.trunc((new Date).getTime()/1e3),date:Math.trunc((new Date).getTime()/1e3),isRunning:!0,timer:null},selectedTokens:0,components:[],words:{},whitespaces:{},whitespaces2Groups:{},words2Groups:{},groups:{},floatMenu:{display:"none"},annotatedWords:[],sentNum2srcCorefID:{},mentions:{},srcCorefID2mentionsCorefID:{},words2corefID:{},group2color:{},rawSummariesHTML:"",test_sentence:"",result_id:"",sanity_statement:"",sanity_answer:"",turkCode:""}},computed:{timenow:function(){if(!0===this.timer.isRunning){if(this.timer.now-this.timer.date<L)return"Wait ".concat(L-(this.timer.now-this.timer.date)," seconds");this.timer.isRunning=!1,window.clearInterval(this.timer.timer)}return"Click to submit"}},methods:{saveAnnotation:function(){for(var t={project_id:this.project_id,status_id:this.doc_status_id,result_json:{highlights:{}},category:"highlight",result_id:this.result_id},e=0;e<Object.keys(this.groups).length;e+=1){var n=Object.keys(this.groups)[e],s="";t.result_json.highlights[n]={indexes:[]};for(var a=0;a<this.groups[n].length;a+=1){var i=this.groups[n][a];"word"===i.$props.type&&(s="".concat(s," ").concat(i.$props.word).trim()),t.result_json.highlights[n].indexes.push(i.$props.compIndex)}t.result_json.highlights[n].text=s}this.$emit("annotationDone",{resultJSON:t,test_sentence:this.test_sentence,answer:this.sanity_answer,turkCode:this.turkCode})},showMentions:function(t){var e=-1;if("word"===t.target.parentElement.dataset.type?t.target.parentElement.dataset.index in this.words2corefID&&(e=this.words2corefID[t.target.parentElement.dataset.index]):"char"===t.target.parentElement.dataset.type&&t.target.parentElement.parentElement.dataset.index in this.words2corefID&&(e=this.words2corefID[t.target.parentElement.parentElement.dataset.index]),-1!==e){for(var n=0;n<this.annotatedWords.length;n+=1)this.annotatedWords[n].resetAnnotation();this.annotatedWords=[];for(var s=this.srcCorefID2mentionsCorefID[e],a=0;a<Object.keys(this.words).length;a+=1)for(var i=Object.keys(this.words)[a],o=this.words[i].tokenIndex,r=0;r<s.length;r+=1)this.words[i].sentIndex+1===this.mentions[s[r]].sentIndex&&o>=this.mentions[s[r]].startIndex&&o<this.mentions[s[r]].endIndex&&(this.words[i].annotate(),1===r&&(this.words[i].$refs.word.scrollIntoView(),window.scrollBy(0,window.innerHeight/10*-1)),this.annotatedWords.push(this.words[i]))}},deleteHighlightGroup:function(t){var e=this,n=-1;"whitespace"===t.target.parentElement.dataset.type?n=K.call(this,t.target.parentElement.dataset.index):"word"===t.target.parentElement.dataset.type?n=Q.call(this,t.target.parentElement.dataset.index):"char"===t.target.parentElement.dataset.type&&(n=Q.call(this,t.target.parentElement.parentElement.dataset.index)),-1!==n&&this.$dialog.confirm({message:"Do you want to delete the highlights?",onConfirm:function(){e.groups[n].forEach(function(t){if("whitespace"===t.$props.type){for(var s=0;s<e.whitespaces2Groups[t.$props.index].length;s+=1)if(e.whitespaces2Groups[t.$props.index][s]===n){e.whitespaces2Groups[t.$props.index].splice(s,1),0===e.whitespaces2Groups[t.$props.index].length&&(t.$data.charStyle["background-color"]="#ffffff");break}}else if("word"===t.$props.type)for(var a=0;a<e.words2Groups[t.$props.index].length;a+=1)if(e.words2Groups[t.$props.index][a]===n){e.words2Groups[t.$props.index].splice(a,1),0===e.words2Groups[t.$props.index].length&&t.rmHighlight();break}}),n in e.groups&&delete e.groups[n];var t=0;for(var s in e.words2Groups)e.words2Groups[s].length>0&&(t+=1);z.call(e),e.$emit("highlight",{tokens:t,summaries:e.rawSummariesHTML})}})},highlightSelection:function(){var t=0;Object.keys(this.groups).forEach(function(e){t=parseInt(e,10)+1}),this.groups[t]=[];var e="#77e529";this.group2color[t]=e;var n=U(),s=n.getRangeAt(0),a=document.createNodeIterator(s.commonAncestorContainer,NodeFilter.SHOW_ALL,{acceptNode:function(){return NodeFilter.FILTER_ACCEPT}}),i=[],o=[],r=[];while(a.nextNode())if(0!==i.length||a.referenceNode===s.startContainer){if(i.push(a.referenceNode),"whitespace"===a.referenceNode.parentElement.dataset.type){var l=a.referenceNode.parentElement.dataset.index;o=o.concat(V.call(this,this.whitespaces[l],"char",t))}if("word"===a.referenceNode.parentElement.dataset.type){var c=a.referenceNode.parentElement.dataset.index;r.includes(this.words[c])||(r=r.concat(V.call(this,this.words[c],"word",t)))}if("char"===a.referenceNode.parentElement.dataset.type){var h=a.referenceNode.parentElement.dataset.index;r.includes(this.words[h])||(r=r.concat(V.call(this,this.words[h],"word",t)))}if(a.referenceNode===s.endContainer)break}var u=0;for(var d in this.words2Groups)this.words2Groups[d].length>0&&(u+=1);for(var m=0;m<r.length;m+=1){var p=r[m];0===this.words2Groups[p.index].length&&(u+=1)}u<=this.maxTokens?(X.call(this,o,r,e,t),z.call(this),this.$emit("highlight",{tokens:u,summaries:this.rawSummariesHTML})):(this.$toast.open({message:"Your highlights have passed the ".concat(this.maxTokens," words limit. Remove previous highlights or shorten the highlights."),type:"is-danger"}),delete this.group2color[t],delete this.groups[t]),this.floatMenu.display="none",J(n)},showHighlightMenu:function(t){var e=U();if(""!==e.toString()){this.floatMenu.display="block",this.floatMenu.position="fixed",this.$set(this.floatMenu,"left","".concat(t.pageX-10,"px")),this.$set(this.floatMenu,"top","".concat(t.pageY-(window.scrollY-20),"px"));var n=e.getRangeAt(0),s=document.createNodeIterator(n.commonAncestorContainer,NodeFilter.SHOW_ALL,{acceptNode:function(){return NodeFilter.FILTER_ACCEPT}}),a=[],i=[];while(s.nextNode())if(0!==a.length||s.referenceNode===n.startContainer){if(a.push(s.referenceNode),"word"===s.referenceNode.parentElement.dataset.type){var o=s.referenceNode.parentElement.dataset.index;i.includes(o)||(i=i.concat(o))}if("char"===s.referenceNode.parentElement.dataset.type){var r=s.referenceNode.parentElement.dataset.index;i.includes(r)||(i=i.concat(r))}if(s.referenceNode===n.endContainer)break}this.selectedTokens=0;for(var l=0;l<i.length;l+=1)this.selectedTokens+=1}else this.floatMenu.display="none"}},mounted:function(){var t=this;B.call(this),this.timer.timer=window.setInterval(function(){t.timer.now=Math.trunc((new Date).getTime()/1e3)},1e3)}},tt=Z,et=(n("413b"),Object(l["a"])(tt,f,v,!1,null,"57c729e4",null));et.options.__file="Document.vue";var nt=et.exports,st=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},at=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"document"},[n("h3",{attrs:{align:"center"}},[t._v("\n            Summarization Highlight\n        ")]),n("p",[t._v("You are being invited to take part in a research project. Before you decide whether or not to participate, "),n("strong",[t._v("it is important for you to understand why the research is being done and what it will involve")]),t._v(".")]),n("p",[t._v("Please take time to read the following information carefully and discuss it with others if you wish. Ask us if there is anything that is not clear or if you would like more information. Take time to decide whether or not you wish to take part. All information provided will be anonymous and will be used for academic purposes only.")]),n("p",[t._v("This task requires two steps:")]),n("p",[n("strong",[t._v("Step 1: Highlighting Informative Phrases in the Document")])]),n("p",[t._v("Your first task is "),n("strong",[t._v("to select important phrases ")]),t._v(" from the document by highlighting them.")]),n("p",[t._v("You should first read the document and select phrases that are the most informative. "),n("strong",[t._v("Use the 5W1H principle (who, what, when, where, why and how)")]),t._v(" to determine the informativeness of a phrase: "),n("br")]),n("blockquote",[t._v("\n            Who was involved? "),n("br"),t._v("\n            What happened? "),n("br"),t._v("\n            Where did it take place? "),n("br"),t._v("\n            When did it take place? "),n("br"),t._v("\n            Why did that happen? "),n("br"),t._v("\n            How did it happen? "),n("br")]),n("p",[t._v("An example of highlights:")]),n("blockquote",[n("em",[n("a",{staticClass:"highlight"},[t._v("Juan David Ortiz, a 35-year-old")]),t._v(" supervisory "),n("a",{staticClass:"highlight"},[t._v("Border Patrol agent ")]),t._v(", has been "),n("a",{staticClass:"highlight"},[t._v("charged")]),t._v(" with "),n("a",{staticClass:"highlight"},[t._v("four counts of murder")]),t._v(", "),n("a",{staticClass:"highlight"},[t._v("aggravated assault")]),t._v(" and "),n("a",{staticClass:"highlight"},[t._v("unlawful restraint")]),t._v(". All of "),n("a",{staticClass:"highlight"},[t._v("his victims were sex workers")]),t._v(", but "),n("a",{staticClass:"highlight"},[t._v("one woman")]),t._v(", who managed to escape, "),n("a",{staticClass:"highlight"},[t._v("helped law enforcement find him")]),t._v(".")])]),n("p",[t._v("The maximum length of the highlighted phrases is 30 words. The task should be possible to complete in less than 10 minutes.")]),n("hr"),n("p",[n("strong",[t._v("Step 2: Sanity Check")])]),n("p",[n("strong",[t._v("Please read the whole document before you do the highlighting")]),t._v(". After you have submitted the evaluation, there will be one simple True/False question where we will verify whether you have read the document or not. Failure to answer the question correctly will nullify the evaluation that the participant has done.")]),n("hr"),n("p",[n("strong",[t._v("For Non Amazon Turker only:")]),t._v(" We will draw one lucky winner from the participants to win a £15 Amazon voucher. "),n("strong",[t._v("You have to complete this task at least twice to be eligible for the lucky draw")]),t._v(". Simply refresh the link to restart the task after you have submitted the result. You are welcome to do the task more than twice but please avoid doing it more than 5 times. We will ignore any excess submission.")]),n("p",[n("strong",[t._v("For Amazon Turker only:")]),t._v(" There is a "),n("strong",[t._v("code")]),t._v(" that you have to copy and paste to Amazon platform at the end of the task. Only submission that correctly answer the True/False question will be deemed as a valid HIT.")]),n("hr"),n("p",[t._v("It is up to you to decide whether or not to take part. If you do decide to take part you will be asked to click a consent button at the end of this section, of which you can still withdraw at any time before we processed the data (3 days after the closing date) without any consequences.")]),n("p",[t._v("You do not have to give a reason. If you wish to withdraw from this research, please contact "),n("a",{attrs:{href:"mailto:hhardy2@sheffield.ac.uk"}},[t._v("the organizer")])]),n("p"),n("p",[t._v("All the information that we collect about you during the course of the research will be kept strictly confidential and will only be accessible to members of the research team. It will not be possible to be identified in any reports or publications unless you have given us your explicit consent for this. We will not share any of your information to other parties.")]),n("p",[t._v("According to data protection legislation, we are required to inform you that the legal basis we are applying in order to process your personal data is that ‘processing is necessary for the performance of a task carried out in the public interest’ (Article 6(1)(e)).")]),n("p",[t._v("Further information can be found in the "),n("a",{attrs:{target:"_blank",href:"https://www.sheffield.ac.uk/govern/data-protection/privacy/general."}},[t._v("University’s Privacy Notice")])]),n("p",[t._v("Thank you for reading this")]),n("p",[t._v("\nContact details of organizer:"),n("br"),n("br"),t._v("\n\nHardy"),n("br"),t._v("\nPhD Student"),n("br"),t._v("\nThe University of Sheffield"),n("br"),t._v("\nhhardy2@sheffield.ac.uk"),n("br")]),n("p",[t._v("\n            Do you consent for all the information that you have submitted to be used\n            anonymously for research purposes only?\n        ")])])}],it={name:"LandingHighlight"},ot=it,rt=(n("57bc"),Object(l["a"])(ot,st,at,!1,null,"5d9d787c",null));rt.options.__file="LandingHighlight.vue";var lt=rt.exports,ct=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ht=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"document"},[n("h3",{attrs:{align:"center"}},[t._v("\n        Summarization Highlight\n    ")]),n("p",[t._v("This task requires two steps:")]),n("p",[n("strong",[t._v("Step 1: Highlighting Informative Phrases in the Document")])]),n("p",[t._v("Your first task is "),n("strong",[t._v("to select important phrases ")]),t._v(" from the document by highlighting them.")]),n("p",[t._v("You should first read the document and select phrases that are the most informative. "),n("strong",[t._v("Use the 5W1H principle (who, what, when, where, why and how)")]),t._v(" to determine the informativeness of a phrase: "),n("br")]),n("blockquote",[t._v("\n        Who was involved? "),n("br"),t._v("\n        What happened? "),n("br"),t._v("\n        Where did it take place? "),n("br"),t._v("\n        When did it take place? "),n("br"),t._v("\n        Why did that happen? "),n("br"),t._v("\n        How did it happen? "),n("br")]),n("p",[t._v("An example of highlights:")]),n("blockquote",[n("em",[n("a",{staticClass:"highlight"},[t._v("Juan David Ortiz, a 35-year-old")]),t._v(" supervisory "),n("a",{staticClass:"highlight"},[t._v("Border Patrol agent ")]),t._v(", has been "),n("a",{staticClass:"highlight"},[t._v("charged")]),t._v(" with "),n("a",{staticClass:"highlight"},[t._v("four counts of murder")]),t._v(", "),n("a",{staticClass:"highlight"},[t._v("aggravated assault")]),t._v(" and "),n("a",{staticClass:"highlight"},[t._v("unlawful restraint")]),t._v(". All of "),n("a",{staticClass:"highlight"},[t._v("his victims were sex workers")]),t._v(", but "),n("a",{staticClass:"highlight"},[t._v("one woman")]),t._v(", who managed to escape, "),n("a",{staticClass:"highlight"},[t._v("helped law enforcement find him")]),t._v(".")])]),n("p",[t._v("The maximum length of the highlighted phrases is 30 words. The task should be possible to complete in less than 10 minutes.")]),n("hr"),n("p",[n("strong",[t._v("Step 2: Sanity Check")])]),n("p",[n("strong",[t._v("Please read the whole document before you do the highlighting")]),t._v(". After you have submitted the evaluation, there will be one simple True/False question where we will verify whether you have read the document or not. Failure to answer the question correctly will nullify the evaluation that the participant has done.")]),n("hr"),n("p",[t._v("There is a "),n("strong",[t._v("code")]),t._v(" that you have to copy and paste to Amazon platform at the end of the task. Only submission that correctly answer the True/False question will be deemed as a valid HIT.")]),n("hr"),n("p",[t._v("Thank you for reading this")]),n("p",[t._v("\n        Do you consent for all the information that you have submitted to be used\n        anonymously for research purposes only?\n    ")])])}],ut={name:"LandingHighlightMTurk"},dt=ut,mt=(n("9823"),Object(l["a"])(dt,ct,ht,!1,null,"04cae804",null));mt.options.__file="LandingHighlight.vue";var pt=mt.exports,ft=n("bc3a"),vt=30,gt={name:"Annotation",components:{LandingHighlight:lt,LandingHighlightMturk:pt,Document:nt},data:function(){return{project_id:this.$route.params.project_id,is_mturk:this.$route.params.mturk,tokensLeft:vt,summaries:"",display:{content:"none",landing:"block",message:"none",test:"none"},resultJSON:{},maxTokens:vt,message:"",test_sentence:"",radio:"",answer:"",email:""}},computed:{dynamicLanding:function(){return"0"===this.is_mturk?"LandingHighlight":"LandingHighlightMturk"},mTurkDisplay:function(){return"0"===this.is_mturk?"block":"none"}},methods:{sendResult:function(){var t=this;this.resultJSON.email=this.email,"1"===this.is_mturk?this.resultJSON.mturk_code=this.turkCode:this.resultJSON.mturk_code=null,"True"===this.radio===this.answer?this.resultJSON.validity=!0:this.resultJSON.validity=!1,ft.post("project/save_result/annotation",this.resultJSON).then(function(){t.$toast.open({message:"Submission successful.",type:"is-success"});var e="";e="1"===t.is_mturk?"<p>Please enter this code:</p>"+"<blockquote>".concat(t.turkCode,"</blockquote>"):"<p>Please refresh the page to do another highlighting. You need to do at least twice to be eligible for the lucky draw.</p>",t.showMessage("<h3>Thank you for submitting!</h3><br/> ".concat(e))}).catch(function(e){t.$toast.open({message:"".concat(e),type:"is-danger"})})},closeLanding:function(){this.display.content="flex",this.display.landing="none",window.scrollTo(0,0)},showTest:function(t){this.display.landing="none",this.display.content="none",this.display.message="none",this.display.test="flex",this.resultJSON=t.resultJSON,this.test_sentence=t.test_sentence,this.answer=t.answer,this.turkCode=t.turkCode,this.result_id=t.result_id},showMessage:function(t){this.display.landing="none",this.display.content="none",this.display.message="flex",this.display.test="none",this.message=t},updateSummaryBox:function(t){this.tokensLeft=vt-t.tokens,this.summaries=t.summaries}}},_t=gt,yt=(n("2c9a"),Object(l["a"])(_t,m,p,!1,null,"40d909f2",null));yt.options.__file="Annotation.vue";var bt=yt.exports,wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container is-fluid home"},[n("div",{staticClass:"columns",style:{display:t.display.landing}},[n("div",{staticClass:"column is-8 is-offset-2 box content"},[n("LandingInfDoc"),n("div",{attrs:{align:"center"}},[n("button",{staticClass:"button is-primary is-large",staticStyle:{"margin-bottom":"2rem"},on:{click:function(e){t.closeLanding()}}},[t._v("I consent")])])],1)]),n("div",{staticClass:"columns",style:{display:t.display.content}},[n("div",{staticClass:"column is-3"},[n("div",{staticClass:"box instruction"},[t._m(0),n("div",{staticStyle:{"margin-bottom":"1.8rem","margin-top":"1.8rem",flex:"1"}},[t.show?n("vue-slider",t._b({ref:"slider",on:{input:t.onSliderInput},model:{value:t.intensitySlider.value,callback:function(e){t.$set(t.intensitySlider,"value",e)},expression:"intensitySlider.value"}},"vue-slider",t.intensitySlider.options,!1)):t._e()],1)])]),n("div",{staticClass:"column"},[n("div",{staticClass:"box document"},[n("div",{ref:"document"})])]),n("div",{staticClass:"column is-3"},[n("div",{staticClass:"box summary"},[n("div",{staticClass:"content"},[n("h1",[t._v("Assessment")]),n("h5",{staticClass:"my-header"},[t._v("Assess the following summary.")]),n("p",{staticClass:"my-summary"},[t._v(t._s(t.system_text))]),n("hr"),t._m(1),t._m(2),n("div",{staticClass:"level",staticStyle:{"margin-bottom":"1.8rem","margin-top":"1.8rem"},attrs:{align:"center"}},[t._m(3),n("span",{staticClass:"level-item"},[t.show?n("vue-slider",{attrs:{width:"100%"},model:{value:t.recall,callback:function(e){t.recall=e},expression:"recall"}}):t._e()],1),t._m(4)]),t._m(5),n("div",{staticClass:"level",staticStyle:{"margin-bottom":"1.8rem","margin-top":"1.8rem"},attrs:{align:"center"}},[t._m(6),n("span",{staticClass:"level-item"},[t.show?n("vue-slider",{attrs:{min:"1",max:"100",width:"100%"},model:{value:t.precision,callback:function(e){t.precision=e},expression:"precision"}}):t._e()],1),t._m(7)]),n("button",{staticClass:"button is-primary",attrs:{disabled:t.timer.isRunning},on:{click:function(e){t.saveEvaluation()}}},[t._v(t._s(t.timenow))])])])])]),n("div",{staticClass:"columns",style:{display:t.display.message}},[n("div",{staticClass:"column is-8 is-offset-2 box content"},[n("div",{attrs:{align:"center"}},[n("h1",[t._v(t._s(t.message))])])])])])},Ct=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("h1",[t._v("\n                        Instructions & Controls\n                    ")]),n("p",{staticClass:"my-text"},[t._v("\n                        Your task is "),n("strong",[t._v("to assess the quality of the summary based on the article")]),t._v(".\n                    ")]),n("hr"),n("p",{staticClass:"my-text"},[t._v("Phrases that are important in the document have been marked using heatmap coloring. The higher the color intensity the greater the phrases' importance.")]),n("p",{staticClass:"my-text"},[t._v("The following slider indicates the number of highlights in the document. You can remove less important phrases by sliding the slider to the right.")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h5",{staticClass:"my-header"},[n("strong",[t._v("How strongly agree are you on the following statements?")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"my-text"},[n("strong",[t._v("All important information")]),t._v(" from the document is present in the summary\n                    ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"level-left"},[n("label",{staticClass:"label is-small"},[t._v("Strongly "),n("br"),t._v(" disagree")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"level-right"},[n("label",{staticClass:"label is-small"},[t._v("Strongly "),n("br"),t._v(" agree")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"my-text"},[n("strong",[t._v("Only important information")]),t._v(" from the document is present in the summary.")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"level-left"},[n("label",{staticClass:"label is-small"},[t._v("Strongly "),n("br"),t._v(" disagree")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"level-right"},[n("label",{staticClass:"label is-small"},[t._v("Strongly "),n("br"),t._v(" agree")])])}],kt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},xt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"document"},[n("h3",{attrs:{align:"center"}},[t._v("\n            Summarization Evaluation\n        ")]),n("p",[t._v("You are being invited to take part in a research project. Before you decide whether or not to participate, "),n("strong",[t._v("it is important for you to understand why the research is being done and what it will involve")]),t._v(".")]),n("p",[t._v("Please take time to read the following information carefully and discuss it with others if you wish. Ask us if there is anything that is not clear or if you would like more information. Take time to decide whether or not you wish to take part. All information provided will be anonymous and will be used for academic purposes only.")]),n("p",[t._v("The task is to evaluate the "),n("strong",[t._v("informativeness")]),t._v(" of a single sentence generated by a natural language generation system. The task should be possible to complete in less than "),n("strong",[t._v("3 minutes")]),t._v(".")]),n("hr"),t._v("\n        There are two ways to determine that a sentence is informative:\n        "),n("blockquote",[t._v("\n            All important information from the document is present in the summary\n        ")]),t._v("\n        and\n        "),n("blockquote",[t._v("\n            Only important information from the document is present in the summary.\n        ")]),n("p",[t._v("\n            You will need to read a document (averagely 450 words) first in order to assess the informativeness of the summary.\n        ")]),n("p",[t._v("You will be scoring each sentence by stating how strongly you agree or disagree using a slider from scale 1 (strong disagreement) to 100 (strong agreement) based on how informative the sentence is to the reader (grammatically correct, natural sounding). All sentences are generated by summarising newswire articles and should not be upsetting to the reader.")]),n("hr"),n("p",[t._v("It is up to you to decide whether or not to take part. If you do decide to take part you will be asked to click a consent button at the end of this section, of which you can still withdraw at any time before we processed the data (3 days after the closing date) without any consequences.")]),n("p",[t._v("You do not have to give a reason. If you wish to withdraw from this research, please contact "),n("a",{attrs:{href:"mailto:hhardy2@sheffield.ac.uk"}},[t._v("the organizer")])]),n("p",[t._v("All the information that we collect about you during the course of the research will be kept strictly confidential and will only be accessible to members of the research team. It will not be possible to be identified in any reports or publications unless you have given us your explicit consent for this. We will not share any of your information to other parties.")]),n("p",[t._v("According to data protection legislation, we are required to inform you that the legal basis we are applying in order to process your personal data is that ‘processing is necessary for the performance of a task carried out in the public interest’ (Article 6(1)(e)).")]),n("p",[t._v("Further information can be found in the "),n("a",{attrs:{target:"_blank",href:"https://www.sheffield.ac.uk/govern/data-protection/privacy/general."}},[t._v("University’s Privacy Notice")])]),n("p",[t._v("Thank you for reading this")]),n("p",[t._v("\nContact details of organizer:"),n("br"),n("br"),t._v("\n\nHardy"),n("br"),t._v("\nPhD Student"),n("br"),t._v("\nThe University of Sheffield"),n("br"),t._v("\nhhardy2@sheffield.ac.uk"),n("br")]),n("p",[t._v("\n            Do you consent for this information to be used\n            anonymously for research purposes only?\n        ")])])}],jt={name:"LandingInfDoc"},$t=jt,St=(n("c465"),Object(l["a"])($t,kt,xt,!1,null,"52f3cbca",null));St.options.__file="LandingInfDoc.vue";var Et=St.exports,Tt=n("6f79"),It=n.n(Tt),Dt=n("bc3a"),At=5;function Pt(t,e,n){var a=s["default"].extend(T),i=e.word;"-LRB-"===i?i="(":"-RRB-"===i?i=")":"``"===i?i='"':"''"===i&&(i='"');var o=new a({propsData:{sentIndex:t.index,tokenIndex:e.index,word:i,index:n,compIndex:this.components.length,type:"word"}});o.$mount(),this.components.push(o),this.words[n]=o,this.words2Groups[n]=[],this.$refs.document.appendChild(o.$el)}function Nt(t,e){var n=s["default"].extend(x),a=new n({propsData:{bgColor:"#ffffff",type:"whitespace",index:e,compIndex:this.components.length}});a.$slots.default=[t],a.$mount(),this.components.push(a),this.whitespaces[e]=a,this.whitespaces2Groups[e]=[],this.$refs.document.appendChild(a.$el)}function Ot(){var t=s["default"].extend(O),e=new t;e.$mount(),this.$refs.document.appendChild(e.$el)}function Lt(){for(var t=0;t<Object.keys(this.highlight.intensities).length;t+=1){var e=parseInt(Object.keys(this.highlight.intensities)[t],10),n=this.highlight.intensities[Object.keys(this.highlight.intensities)[t]],s=0;this.highlight.max!==this.highlight.min&&(s=1-(this.intensitySlider.value-this.highlight.min)/(this.highlight.max-this.highlight.min)),n>=s?this.components[e].highlight("rgba(255, ".concat(255-255*n,", 0)")):this.components[e].rmHighlight()}}function Mt(t){for(var e=0;e<Object.keys(t).length;e+=1)for(var n=t[Object.keys(t)[e]],s=0;s<Object.keys(n.highlights).length;s+=1)for(var a=n.highlights[Object.keys(n.highlights)[s]],i=0;i<a.indexes.length;i+=1)a.indexes[i]in this.highlight.intensities?this.highlight.intensities[a.indexes[i]]+=1:this.highlight.intensities[a.indexes[i]]=1,this.highlight.intensities[a.indexes[i]]>this.highlight.max&&(this.highlight.max=this.highlight.intensities[a.indexes[i]]),this.highlight.intensities[a.indexes[i]]<this.highlight.min&&(this.highlight.min=this.highlight.intensities[a.indexes[i]]);for(var o=0;o<Object.keys(this.highlight.intensities).length;o+=1){var r=this.highlight.intensities[Object.keys(this.highlight.intensities)[o]],l=0;this.highlight.max!==this.highlight.min&&(l=(r-this.highlight.min)/(this.highlight.max-this.highlight.min)),this.highlight.intensities[Object.keys(this.highlight.intensities)[o]]=l}for(var c=this.highlight.min;c<=this.highlight.max;c+=1)this.intensitySlider.options.data.push(c);this.intensitySlider.max=this.highlight.max,this.intensitySlider.min=this.highlight.min,this.intensitySlider.value=this.highlight.max}function Ht(t){Mt.call(this,t.results);for(var e=0,n=0,s=t.paragraph.endSentIndex,a=0;a<t.sentences.length;a+=1){for(var i=t.sentences[a],o=0;o<i.tokens.length;o+=1){var r=i.tokens[o];Pt.call(this,i,r,e),o!==i.tokens.length-2&&(Nt.call(this," ",n),n+=1),e+=1}s.includes(i.index+1)&&Ot.call(this)}}function Rt(){var t=this;Dt.get("project/evaluation/informativeness_doc/".concat(this.project_id,"/single_doc")).then(function(e){Ht.call(t,e.data.doc_json),t.system_text=e.data.system_text,t.summ_status_id=e.data.summ_status_id,Lt.call(t)}).catch(function(e){console.log(e),t.showMessage("There are no more documents available!")})}function Wt(t){var e=this;Dt.post("project/save_result/evaluation",t).then(function(){e.$toast.open({message:"Submission successful.",type:"is-success"}),e.showMessage("Thank you for submitting!")}).catch(function(t){e.$toast.open({message:"".concat(t),type:"is-danger"})})}var zt={name:"EvalInfDoc",components:{vueSlider:It.a,LandingInfDoc:Et},computed:{timenow:function(){if(!0===this.timer.isRunning){if(this.timer.now-this.timer.date<At)return"Wait ".concat(At-(this.timer.now-this.timer.date)," seconds");this.timer.isRunning=!1,window.clearInterval(this.timer.timer)}return"Click to submit"}},methods:{showMessage:function(t){this.display.landing="none",this.display.content="none",this.display.message="flex",this.message=t},closeLanding:function(){this.display.content="flex",this.display.landing="none",window.scrollTo(0,0),this.show=!0},onSliderInput:function(){Lt.call(this)},saveEvaluation:function(){var t={project_id:this.project_id,status_id:this.summ_status_id,precision:this.precision,recall:this.recall,category:"Informativeness_Doc"};Wt.call(this,t)}},data:function(){return{highlight:{intensities:{},max:-1,min:999},show:!1,timer:{now:Math.trunc((new Date).getTime()/1e3),date:Math.trunc((new Date).getTime()/1e3),isRunning:!0,timer:null},intensitySlider:{value:0,options:{tooltip:"always",data:[],speed:.3,min:1,max:0,piecewiseLabel:!0,piecewise:!0,reverse:!0}},display:{content:"none",landing:"flex",message:"none"},components:[],words:{},whitespaces:{},whitespaces2Groups:{},words2Groups:{},precision:50,recall:50,project_id:this.$route.params.project_id,summ_status_id:"",system_text:"",message:""}},mounted:function(){var t=this;Rt.call(this),this.timer.timer=window.setInterval(function(){t.timer.now=Math.trunc((new Date).getTime()/1e3)},1e3)}},Gt=zt,qt=(n("4236"),Object(l["a"])(Gt,wt,Ct,!1,null,"dcfa946c",null));qt.options.__file="EvalInfDoc.vue";var Ft=qt.exports,Yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container home"},[n("div",{staticClass:"columns",style:{display:t.display.landing}},[n("div",{staticClass:"column is-8 is-offset-2 box content"},[n("LandingInfRef"),n("div",{attrs:{align:"center"}},[n("button",{staticClass:"button is-primary is-large",staticStyle:{"margin-bottom":"2rem"},on:{click:function(e){t.closeLanding()}}},[t._v("I consent")])])],1)]),n("div",{staticClass:"columns",style:{display:t.display.content}},[n("div",{staticClass:"column is-5 is-offset-1"},[n("div",{staticClass:"box document"},[n("div",{staticClass:"content"},[n("h1",[t._v("Read This Text")]),n("p",{staticClass:"my-summary"},[t._v(t._s(t.ref_text))])])])]),n("div",{staticClass:"column is-5"},[n("div",{staticClass:"box summary"},[n("div",{staticClass:"content"},[n("h1",[t._v("Assessment")]),n("h5",{staticClass:"my-header"},[t._v("Assess the following summary.")]),n("p",{staticClass:"my-summary"},[t._v(t._s(t.system_text))]),n("hr"),t._m(0),t._m(1),n("div",{staticClass:"level",staticStyle:{"margin-bottom":"1.8rem","margin-top":"1.8rem"},attrs:{align:"center"}},[t._m(2),n("span",{staticClass:"level-item"},[t.show?n("vue-slider",{attrs:{min:"1",max:"100",width:"100%"},model:{value:t.recall,callback:function(e){t.recall=e},expression:"recall"}}):t._e()],1),t._m(3)]),t._m(4),n("div",{staticClass:"level",staticStyle:{"margin-bottom":"1.8rem","margin-top":"1.8rem"},attrs:{align:"center"}},[t._m(5),n("span",{staticClass:"level-item"},[t.show?n("vue-slider",{attrs:{min:"1",max:"100",width:"100%"},model:{value:t.precision,callback:function(e){t.precision=e},expression:"precision"}}):t._e()],1),t._m(6)]),n("button",{staticClass:"button is-primary",attrs:{disabled:t.timer.isRunning},on:{click:function(e){t.saveEvaluation()}}},[t._v(t._s(t.timenow))])])])])]),n("div",{staticClass:"columns",style:{display:t.display.message}},[n("div",{staticClass:"column is-8 is-offset-2 box content"},[n("div",{attrs:{align:"center"}},[n("h1",[t._v(t._s(t.message))])])])])])},Bt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h5",{staticClass:"my-header"},[n("strong",[t._v("How strongly agree are you on the following statements?")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"my-text"},[n("strong",[t._v("All important information\n                          ")]),t._v(" from the left panel's sentence is present in the summary\n                      ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"level-left"},[n("label",{staticClass:"label is-small"},[t._v("Strongly "),n("br"),t._v(" disagree")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"level-right"},[n("label",{staticClass:"label is-small"},[t._v("Strongly "),n("br"),t._v(" agree")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"my-text"},[n("strong",[t._v("Only important information")]),t._v("\n                          from the left panel's sentence is present in the summary.")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"level-left"},[n("label",{staticClass:"label is-small"},[t._v("Strongly "),n("br"),t._v(" disagree")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"level-right"},[n("label",{staticClass:"label is-small"},[t._v("Strongly "),n("br"),t._v(" agree")])])}],Jt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ut=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"document"},[n("h3",{attrs:{align:"center"}},[t._v("\n            Summarization Evaluation\n        ")]),n("p",[t._v("You are being invited to take part in a research project. Before you decide whether or not to participate, "),n("strong",[t._v("it is important for you to understand why the research is being done and what it will involve")]),t._v(".")]),n("p",[t._v("Please take time to read the following information carefully and discuss it with others if you wish. Ask us if there is anything that is not clear or if you would like more information. Take time to decide whether or not you wish to take part. All information provided will be anonymous and will be used for academic purposes only.")]),n("p",[t._v("The task is to evaluate the "),n("strong",[t._v("informativeness")]),t._v(" of a single sentence generated by a natural language generation system. The task should be possible to complete in less than "),n("strong",[t._v("3 minutes")]),t._v(".")]),n("hr"),t._v("\n        There are two ways to determine that a sentence is informative:\n        "),n("blockquote",[t._v("\n            All important information from another sentence is present in the summary\n        ")]),t._v("\n        and\n        "),n("blockquote",[t._v("\n            Only important information from another sentence is present in the summary.\n        ")]),n("p",[t._v("\n            You will need to read a separate sentence (averagely 25 words) first in order to assess the informativeness of the summary.\n        ")]),n("p",[t._v("You will be scoring each sentence by stating how strongly you agree or disagree using a slider from scale 1 (strong disagreement) to 100 (strong agreement) based on how informative the sentence is to the reader (grammatically correct, natural sounding). All sentences are generated by summarising newswire articles and should not be upsetting to the reader.")]),n("hr"),n("p",[t._v("It is up to you to decide whether or not to take part. If you do decide to take part you will be asked to click a consent button at the end of this section, of which you can still withdraw at any time before we processed the data (3 days after the closing date) without any consequences.")]),n("p",[t._v("You do not have to give a reason. If you wish to withdraw from this research, please contact "),n("a",{attrs:{href:"mailto:hhardy2@sheffield.ac.uk"}},[t._v("the organizer")])]),n("p",[t._v("All the information that we collect about you during the course of the research will be kept strictly confidential and will only be accessible to members of the research team. It will not be possible to be identified in any reports or publications unless you have given us your explicit consent for this. We will not share any of your information to other parties.")]),n("p",[t._v("According to data protection legislation, we are required to inform you that the legal basis we are applying in order to process your personal data is that ‘processing is necessary for the performance of a task carried out in the public interest’ (Article 6(1)(e)).")]),n("p",[t._v("Further information can be found in the "),n("a",{attrs:{target:"_blank",href:"https://www.sheffield.ac.uk/govern/data-protection/privacy/general."}},[t._v("University’s Privacy Notice")])]),n("p",[t._v("Thank you for reading this")]),n("p",[t._v("\nContact details of organizer:"),n("br"),n("br"),t._v("\n\nHardy"),n("br"),t._v("\nPhD Student"),n("br"),t._v("\nThe University of Sheffield"),n("br"),t._v("\nhhardy2@sheffield.ac.uk"),n("br")]),n("p",[t._v("\n            Do you consent for this information to be used\n            anonymously for research purposes only?\n        ")])])}],Kt={name:"LandingInfDoc"},Qt=Kt,Vt=(n("d2b9"),Object(l["a"])(Qt,Jt,Ut,!1,null,"29c4ea74",null));Vt.options.__file="LandingInfRef.vue";var Xt=Vt.exports,Zt=n("bc3a"),te=5;function ee(){var t=this;Zt.get("project/evaluation/informativeness_ref/".concat(this.project_id,"/single_doc")).then(function(e){t.system_text=e.data.system_text,t.ref_text=e.data.ref_text,t.summ_status_id=e.data.summ_status_id}).catch(function(){t.showMessage("There are no more documents available!")})}function ne(t){var e=this;Zt.post("project/save_result/evaluation",t).then(function(){e.$toast.open({message:"Submission successful.",type:"is-success"}),e.showMessage("Thank you for submitting!")}).catch(function(t){e.$toast.open({message:"".concat(t),type:"is-danger"})})}var se={components:{LandingInfRef:Xt,vueSlider:It.a},data:function(){return{show:!1,system_text:"",ref_text:"",timer:{now:Math.trunc((new Date).getTime()/1e3),date:Math.trunc((new Date).getTime()/1e3),isRunning:!0,timer:null},precision:50,recall:50,project_id:this.$route.params.project_id,summ_status_id:"",display:{content:"none",landing:"block",message:"none"},message:""}},methods:{showMessage:function(t){this.display.landing="none",this.display.content="none",this.display.message="flex",this.message=t},closeLanding:function(){this.display.content="flex",this.display.landing="none",window.scrollTo(0,0),this.show=!0},saveEvaluation:function(){var t={project_id:this.project_id,status_id:this.summ_status_id,precision:this.precision,recall:this.recall,category:"Informativeness_Ref"};ne.call(this,t)}},computed:{timenow:function(){if(!0===this.timer.isRunning){if(this.timer.now-this.timer.date<te)return"Wait ".concat(te-(this.timer.now-this.timer.date)," seconds");this.timer.isRunning=!1,window.clearInterval(this.timer.timer)}return"Click to submit"}},mounted:function(){var t=this;ee.call(this),this.timer.timer=window.setInterval(function(){t.timer.now=Math.trunc((new Date).getTime()/1e3)},1e3)}},ae=se,ie=(n("9974"),Object(l["a"])(ae,Yt,Bt,!1,null,null,null));ie.options.__file="EvalInfRef.vue";var oe=ie.exports,re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container home"},[n("div",{staticClass:"columns",style:{display:t.display.landing}},[n("div",{staticClass:"column is-8 is-offset-2 box content"},[n("LandingFluency"),n("div",{attrs:{align:"center"}},[n("button",{staticClass:"button is-primary is-large",staticStyle:{"margin-bottom":"2rem"},on:{click:function(e){t.closeLanding()}}},[t._v("I consent")])])],1)]),n("div",{staticClass:"columns",style:{display:t.display.content}},[n("div",{staticClass:"column is-5 is-offset-3"},[n("div",{staticClass:"box summary"},[n("div",{staticClass:"content"},[n("h1",[t._v("Assessment")]),n("h5",{staticClass:"my-header"},[t._v("Assess the following summary")]),n("p",{staticClass:"my-summary"},[t._v(t._s(t.system_text))]),n("hr"),t._m(0),n("p",{staticClass:"my-text"},[t._v("\n                          The summary is "),n("strong",[t._v("fluent")]),t._v(".\n                          "),n("b-tooltip",{attrs:{label:"E.g. are there any grammatical mistakes?\n                                  are the sentence sounds natural?"}},[n("b-icon",{attrs:{pack:"fas",icon:"info-circle",size:"is-small"}})],1)],1),n("div",{staticClass:"level",staticStyle:{"margin-bottom":"1.8rem","margin-top":"1.8rem"},attrs:{align:"center"}},[t._m(1),n("span",{staticClass:"level-item"},[t.show?n("vue-slider",{attrs:{min:"1",max:"100",width:"100%"},model:{value:t.fluency,callback:function(e){t.fluency=e},expression:"fluency"}}):t._e()],1),t._m(2)]),n("p",{staticClass:"my-text"},[t._v("\n                          The summary is "),n("strong",[t._v("clear")]),t._v(".\n                          "),n("b-tooltip",{attrs:{label:"E.g. are nouns, pronouns or personal\n                                  names well-specified?"}},[n("b-icon",{attrs:{pack:"fas",icon:"info-circle",size:"is-small"}})],1)],1),n("div",{staticClass:"level",staticStyle:{"margin-bottom":"1.8rem","margin-top":"1.8rem"},attrs:{align:"center"}},[t._m(3),n("span",{staticClass:"level-item"},[t.show?n("vue-slider",{attrs:{min:"1",max:"100",width:"100%"},model:{value:t.clarity,callback:function(e){t.clarity=e},expression:"clarity"}}):t._e()],1),t._m(4)]),n("button",{staticClass:"button is-primary",attrs:{disabled:t.timer.isRunning},on:{click:function(e){t.saveEvaluation()}}},[t._v(t._s(t.timenow))])])])])]),n("div",{staticClass:"columns",style:{display:t.display.message}},[n("div",{staticClass:"column is-8 is-offset-2 box content"},[n("div",{attrs:{align:"center"}},[n("h1",[t._v(t._s(t.message))])])])])])},le=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h5",{staticClass:"my-header"},[n("strong",[t._v("How strongly agree are you on the following statements?")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"level-left"},[n("label",{staticClass:"label is-small"},[t._v("Strongly "),n("br"),t._v(" disagree")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"level-right"},[n("label",{staticClass:"label is-small"},[t._v("Strongly "),n("br"),t._v(" agree")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"level-left"},[n("label",{staticClass:"label is-small"},[t._v("Strongly "),n("br"),t._v(" disagree")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"level-right"},[n("label",{staticClass:"label is-small"},[t._v("Strongly "),n("br"),t._v(" agree")])])}],ce=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},he=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"document"},[n("h3",{attrs:{align:"center"}},[t._v("\n            Summarization Evaluation\n        ")]),n("p",[t._v("You are being invited to take part in a research project. Before you decide whether or not to participate, "),n("strong",[t._v("it is important for you to understand why the research is being done and what it will involve")]),t._v(".")]),n("p",[t._v("Please take time to read the following information carefully and discuss it with others if you wish. Ask us if there is anything that is not clear or if you would like more information. Take time to decide whether or not you wish to take part. All information provided will be anonymous and will be used for academic purposes only.")]),n("p",[t._v("The task is to evaluate the "),n("strong",[t._v("fluency")]),t._v(" and "),n("strong",[t._v("clarity")]),t._v(" of a single sentence generated by a natural language generation system. The task should be possible to complete in less than "),n("strong",[t._v("3 minutes")]),t._v(".")]),n("hr"),n("p",[n("strong",[t._v("Fluency")])]),n("p",[t._v("In determining the fluency, you need to look for any obvious ungrammatical parts, e.g., missing components, unrelated fragments, or any other grammar-related problem that makes the text difficult to read.")]),n("p",[n("strong",[t._v("Sentence that isn’t fluent (grammatical error, does not sound natural):")])]),n("blockquote",[n("em",[t._v("\n            “Officials from IAEA and the european conventions were suspected by experts of an enrichment effort to obtain technologies used to obtain technologies that would be used for tehran in tehran and if the issue is considered the IAEA and the european conventions to produce the atomic bomb .”")])]),n("p",[n("strong",[t._v("Sentences that is fluent:")])]),n("blockquote",[n("em",[t._v("“China and Kyrgyzstan pledge to make joint efforts to crack down on terrorism and other threats to regional and global security”")])]),n("p",[t._v("You will be scoring each sentence by stating how strongly you agree or disagree using a slider from scale 1 (strong disagreement) to 100 (strong agreement) based on how fluent the sentence is to the reader (grammatically correct, natural sounding). All sentences are generated by summarising newswire articles and should not be upsetting to the reader.")]),n("hr"),n("p",[n("strong",[t._v("Clarity")])]),n("p",[t._v("In determining the clarity, you need to look for any difficulty in identifying the referents of noun phrases in the summary, e.g. nouns, pronouns or personal names that are not well-specified, or any other entity that is referenced but its identity and relation with the story remains unclear.")]),n("p",[n("strong",[t._v("Sentence that isn’t clear (it is not clear who is the woman and which truck, the context is also not clear):")])]),n("blockquote",[n("em",[t._v("\n            “The woman had been riding in the truck when she started to grow increasingly uneasy with the man.”")])]),n("p",[n("strong",[t._v("Sentences that is clear:")])]),n("blockquote",[n("em",[t._v("“Juan David Ortiz, a 35-year-old supervisory Border Patrol agent, has been charged with four counts of murder,”")])]),n("p",[t._v("You will be scoring each sentence by stating how strongly you agree or disagree using a slider from scale 1 (strong disagreement) to 100 (strong agreement) based on how clear the sentence is to the reader. All sentences are generated by summarising newswire articles and should not be upsetting to the reader.")]),n("hr"),n("p",[t._v("It is up to you to decide whether or not to take part. If you do decide to take part you will be asked to click a consent button at the end of this section, of which you can still withdraw at any time before we processed the data (3 days after the closing date) without any consequences.")]),n("p",[t._v("You do not have to give a reason. If you wish to withdraw from this research, please contact "),n("a",{attrs:{href:"mailto:hhardy2@sheffield.ac.uk"}},[t._v("the organizer")])]),n("p",[t._v("All the information that we collect about you during the course of the research will be kept strictly confidential and will only be accessible to members of the research team. It will not be possible to be identified in any reports or publications unless you have given us your explicit consent for this. We will not share any of your information to other parties.")]),n("p",[t._v("According to data protection legislation, we are required to inform you that the legal basis we are applying in order to process your personal data is that ‘processing is necessary for the performance of a task carried out in the public interest’ (Article 6(1)(e)).")]),n("p",[t._v("Further information can be found in the "),n("a",{attrs:{target:"_blank",href:"https://www.sheffield.ac.uk/govern/data-protection/privacy/general."}},[t._v("University’s Privacy Notice")])]),n("p",[t._v("Thank you for reading this")]),n("p",[t._v("\nContact details of organizer:"),n("br"),n("br"),t._v("\n\nHardy"),n("br"),t._v("\nPhD Student"),n("br"),t._v("\nThe University of Sheffield"),n("br"),t._v("\nhhardy2@sheffield.ac.uk"),n("br")]),n("p",[t._v("\n            Do you consent for this information to be used\n            anonymously for research purposes only?\n        ")])])}],ue={name:"LandingFluency"},de=ue,me=(n("c39b"),Object(l["a"])(de,ce,he,!1,null,"974a593c",null));me.options.__file="LandingFluency.vue";var pe=me.exports,fe=n("bc3a"),ve=5;function ge(){var t=this;fe.get("project/evaluation/fluency/".concat(this.project_id,"/single_doc")).then(function(e){t.system_text=e.data.system_text,t.ref_text=e.data.ref_text,t.summ_status_id=e.data.summ_status_id}).catch(function(){t.showMessage("There are no more documents available!")})}function _e(t){var e=this;fe.post("project/save_result/evaluation",t).then(function(){e.$toast.open({message:"Submission successful.",type:"is-success"}),e.showMessage("Thank you for submitting!")}).catch(function(t){e.$toast.open({message:"".concat(t),type:"is-danger"})})}var ye={components:{LandingFluency:pe,vueSlider:It.a},data:function(){return{show:!1,system_text:"",ref_text:"",fluency:50,clarity:50,project_id:this.$route.params.project_id,timer:{now:Math.trunc((new Date).getTime()/1e3),date:Math.trunc((new Date).getTime()/1e3),isRunning:!0,timer:null},is_landing:!0,display:{content:"none",landing:"flex",message:"none"},message:""}},methods:{showMessage:function(t){this.display.landing="none",this.display.content="none",this.display.message="flex",this.message=t},closeLanding:function(){this.display.content="flex",this.display.landing="none",window.scrollTo(0,0),this.show=!0},saveEvaluation:function(){var t={project_id:this.project_id,status_id:this.summ_status_id,fluency:this.fluency,clarity:this.clarity,category:"fluency"};_e.call(this,t)}},computed:{timenow:function(){if(!0===this.timer.isRunning){if(this.timer.now-this.timer.date<ve)return"Wait ".concat(ve-(this.timer.now-this.timer.date)," seconds");this.timer.isRunning=!1,window.clearInterval(this.timer.timer)}return"Click to submit"}},mounted:function(){var t=this;ge.call(this),this.timer.timer=window.setInterval(function(){t.timer.now=Math.trunc((new Date).getTime()/1e3)},1e3)}},be=ye,we=(n("ac39"),Object(l["a"])(be,re,le,!1,null,null,null));we.options.__file="EvalFluency.vue";var Ce=we.exports,ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"hero is-primary is-fullheight login"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container has-text-centered"},[n("div",{staticClass:"column is-4 is-offset-4"},[n("h3",{staticClass:"title has-text-white"},[t._v("Login")]),n("p",{staticClass:"subtitle"},[t._v("Please login to proceed to admin page.")]),n("div",{staticClass:"box"},[n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.input.email,expression:"input.email"}],staticClass:"input is-large",attrs:{type:"email",placeholder:"Your Email",autofocus:""},domProps:{value:t.input.email},on:{input:function(e){e.target.composing||t.$set(t.input,"email",e.target.value)}}})])]),n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.input.password,expression:"input.password"}],staticClass:"input is-large",attrs:{type:"password",placeholder:"Your Password"},domProps:{value:t.input.password},on:{input:function(e){e.target.composing||t.$set(t.input,"password",e.target.value)}}})])]),n("button",{staticClass:"button is-block is-info is-large is-fullwidth",attrs:{type:"button"},on:{click:function(e){t.login()}}},[t._v("Login")])])])])])])},xe=[],je=(n("28a5"),new s["default"]);function $e(t){if(!t||t.split(".").length<3)return!1;var e=JSON.parse(atob(t.split(".")[1])),n=new Date(1e3*e.exp),s=new Date;return console.log(n),s<n}var Se={name:"Login",data:function(){return{input:{email:"",password:""}}},methods:{login:function(){var t=this;""!==this.input.email&&""!==this.input.password&&this.$store.dispatch("login",{email:this.input.email,password:this.input.password}).then(function(){return t.$router.push({name:"admin"})}).catch(function(t){console.log(t)})}},mounted:function(){var t=this;je.$on("failedAuthentication",function(){t.$toast.open({message:"Email or password does not exist!",type:"is-danger"})})}},Ee=Se,Te=(n("6046"),Object(l["a"])(Ee,ke,xe,!1,null,"cf681ed0",null));Te.options.__file="Login.vue";var Ie=Te.exports,De=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav",{staticClass:"navbar",attrs:{role:"navigation","aria-label":"main navigation"}},[n("div",{staticClass:"container is-fluid"},[t._m(0),n("div",{staticClass:"navbar-menu",attrs:{id:"navbarBasicExample"}},[n("div",{staticClass:"navbar-start"},[n("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[n("a",{staticClass:"navbar-link"},[t._v("\n                Projects\n              ")]),n("div",{staticClass:"navbar-dropdown"},[n("router-link",{staticClass:"navbar-item",attrs:{to:{name:"new"}}},[t._v("\n                  New...\n                ")]),n("router-link",{staticClass:"navbar-item",attrs:{to:{name:"manage"}}},[t._v("\n                  Manage...\n                ")])],1)])])])])]),n("router-view")],1)},Ae=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar-brand"},[n("a",{staticClass:"navbar-item",attrs:{href:"/"}},[t._v("\n          Summ-Eval\n        ")])])}],Pe={name:"admin",components:{}},Ne=Pe,Oe=Object(l["a"])(Ne,De,Ae,!1,null,null,null);Oe.options.__file="Admin.vue";var Le=Oe.exports,Me=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},He=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hero is-primary is-large"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container"},[n("h1",{staticClass:"title"},[t._v("\n        Welcome to Summ-Eval!\n      ")]),n("h2",{staticClass:"subtitle"},[t._v("\n        An open source manual evaluation software for abstractive summarization!\n      ")])])])])}],Re={name:"Home"},We=Re,ze=(n("9a10"),Object(l["a"])(We,Me,He,!1,null,"22984c26",null));ze.options.__file="Home.vue";var Ge=ze.exports,qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t._m(0),n("div",[n("b-table",{attrs:{data:t.annotation_projects},scopedSlots:t._u([{key:"default",fn:function(e){return[n("b-table-column",{attrs:{field:"no",label:"No.",width:"40"}},[t._v("\n                    "+t._s(e.row.no)+"\n                ")]),n("b-table-column",{attrs:{field:"id",label:"ID",width:"40"}},[t._v("\n                    "+t._s(e.row.id)+"\n                ")]),n("b-table-column",{attrs:{field:"name",label:"Name"}},[n("a",{attrs:{href:"/#/admin/annotation_status/"+e.row.id}},[t._v("\n                        "+t._s(e.row.name)+"\n                    ")])]),n("b-table-column",{attrs:{field:"category",label:"Category"}},[t._v("\n                    "+t._s(e.row.category)+"\n                ")]),n("b-table-column",{attrs:{field:"dataset_name",label:"Dataset"}},[t._v("\n                    "+t._s(e.row.dataset_name)+"\n                ")]),n("b-table-column",{attrs:{field:"created_at",label:"Created at",centered:""}},[t._v("\n                    "+t._s(new Date(e.row.created_at).toLocaleDateString())+"\n                ")]),n("b-table-column",{attrs:{field:"progress",label:"Progress"}},[n("div",{staticClass:"columns level"},[n("div",{staticClass:"column is-10 level-item"},[n("progress",{staticClass:"progress is-success",attrs:{max:"1"},domProps:{value:e.row.progress}})]),n("div",{staticClass:"column is-2 level-item"},[t._v("\n                            "+t._s(e.row.progress.toLocaleString("en",{style:"percent",maximumSignificantDigits:2}))+"\n                        ")])])]),n("b-table-column",{attrs:{label:"Link for Participants"}},[n("b-field",[n("b-input",{attrs:{"icon-pack":"fas",icon:"link",value:e.row.link,readonly:"",size:"is-small"}})],1)],1),n("b-table-column",{attrs:{field:"id",label:"Close Project"}},[n("a",{staticClass:"button is-danger is-outlined is-small",on:{click:function(n){t.close_project(e.row.id)}}},[n("span",[t._v("Close And Save")]),n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-times"})])])])]}}])},[n("template",{slot:"empty"},[n("section",{staticClass:"section"},[n("div",{staticClass:"content has-text-grey has-text-centered"},[n("p",[n("b-icon",{attrs:{icon:"frown",pack:"fas",size:"is-large"}})],1),n("p",[t._v("There is no active annotation project in database.")])])])])],2)],1),n("hr"),t._m(1),n("div",[n("b-table",{attrs:{data:t.evaluation_projects,striped:"true"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("b-table-column",{attrs:{field:"no",label:"No.",width:"40"}},[t._v("\n                    "+t._s(e.row.no)+"\n                ")]),n("b-table-column",{attrs:{field:"id",label:"ID",width:"40"}},[t._v("\n                    "+t._s(e.row.id)+"\n                ")]),n("b-table-column",{attrs:{field:"name",label:"Name",width:"100"}},[n("a",{attrs:{href:"/#/admin/evaluation_status/"+e.row.id}},[t._v("\n                    "+t._s(e.row.name)+"\n                    ")])]),n("b-table-column",{attrs:{field:"category",label:"Category"}},[t._v("\n                    "+t._s(e.row.category)+"\n                ")]),n("b-table-column",{attrs:{field:"dataset_name",label:"Dataset"}},[t._v("\n                    "+t._s(e.row.dataset_name)+"\n                ")]),n("b-table-column",{attrs:{field:"summ_group_name",label:"Summary Group",width:"100"}},[t._v("\n                    "+t._s(e.row.summ_group_name)+"\n                ")]),n("b-table-column",{attrs:{field:"created_at",label:"Created at",centered:""}},[t._v("\n                    "+t._s(new Date(e.row.created_at).toLocaleDateString())+"\n                ")]),n("b-table-column",{attrs:{field:"progress",label:"Progress"}},[n("div",{staticClass:"columns level"},[n("div",{staticClass:"column is-10 level-item"},[n("progress",{staticClass:"progress is-success",attrs:{max:"1"},domProps:{value:e.row.progress}})]),n("div",{staticClass:"column is-2 level-item"},[t._v("\n                            "+t._s(e.row.progress.toLocaleString("en",{style:"percent",maximumSignificantDigits:2}))+"\n                        ")])])]),n("b-table-column",{attrs:{label:"Link for Participants"}},[n("b-field",[n("b-input",{attrs:{"icon-pack":"fas",icon:"link",value:e.row.link,readonly:"",size:"is-small"}})],1)],1),n("b-table-column",{attrs:{field:"id",label:"Close Project"}},[n("a",{staticClass:"button is-danger is-outlined is-small",on:{click:function(n){t.close_project(e.row.id)}}},[n("span",[t._v("Close")]),n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fas fa-times"})])])])]}}])},[n("template",{slot:"empty"},[n("section",{staticClass:"section"},[n("div",{staticClass:"content has-text-grey has-text-centered"},[n("p",[n("b-icon",{attrs:{icon:"frown",pack:"fas",size:"is-large"}})],1),n("p",[t._v("There is no active evaluation project in database.")])])])])],2)],1)])},Fe=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("h3",[t._v("Annotation Projects")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("h3",[t._v("Evaluation Projects")])])}],Ye=n("e49b"),Be=n("6d8d"),Je=n("bc3a"),Ue={name:"ManageProject",components:{BTableColumn:Be["a"],BTable:Ye["a"]},data:function(){return{annotation_projects:[],evaluation_projects:[]}},methods:{get_progress:function(){var t=this;Je.get("project/all_progress/annotation").then(function(e){t.annotation_projects=e.data.projects}),Je.get("project/all_progress/evaluation").then(function(e){t.evaluation_projects=e.data.projects})},close_project:function(t){var e=this;this.$dialog.confirm({message:"Do you want to close project ".concat(t,"?"),onConfirm:function(){Je.post("project/".concat(t,"/close")).then(function(){e.$toast.open({message:"Project ".concat(t," has been closed"),type:"is-success"}),e.get_progress()}).catch(function(t){e.$toast.open({message:"".concat(t),type:"is-danger"})})}})}},beforeMount:function(){this.get_progress()}},Ke=Ue,Qe=(n("c259"),Object(l["a"])(Ke,qe,Fe,!1,null,"8be51264",null));Qe.options.__file="ManageProject.vue";var Ve=Qe.exports,Xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"tile is-ancestor"},[n("div",{staticClass:"tile is-parent"},[n("div",{staticClass:"tile is-child tabs"},[n("ul",[n("li",{class:{"is-active":t.isActive.annotation},on:{click:function(e){t.toggleActive("annotation")}}},[n("router-link",{attrs:{to:{name:"newAnnotation"}}},[t._v("Annotation")])],1),n("li",{class:{"is-active":t.isActive.evaluation},on:{click:function(e){t.toggleActive("evaluation")}}},[n("router-link",{attrs:{to:{name:"newEvaluation"}}},[t._v("Evaluation")])],1)])])])]),n("div",{staticClass:"tile is-ancestor"},[n("div",{staticClass:"tile is-parent is-5"},[n("div",{staticClass:"tile is-child"},[n("router-view")],1)])])])},Ze=[],tn={name:"NewProject",data:function(){return{isActive:{annotation:!0,evaluation:!1}}},methods:{toggleActive:function(t){"annotation"===t?(this.isActive.annotation=!0,this.isActive.evaluation=!1):"evaluation"===t&&(this.isActive.evaluation=!0,this.isActive.annotation=!1)}}},en=tn,nn=(n("5a20"),Object(l["a"])(en,Xe,Ze,!1,null,"47cf04de",null));nn.options.__file="NewProject.vue";var sn=nn.exports,an=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"content"},[n("h3",[t._v("Project "+t._s(t.$route.params.project_id)+" Status\n            "),n("button",{staticClass:"button is-primary is-small",on:{click:t.update}},[n("b-icon",{attrs:{pack:"fas",icon:"sync-alt"}})],1)])]),n("b-table",{attrs:{data:t.annotation_results},scopedSlots:t._u([{key:"default",fn:function(e){return[n("b-table-column",{attrs:{field:"no",label:"No.",width:"40"}},[t._v("\n                "+t._s(e.row.no)+"\n            ")]),n("b-table-column",{attrs:{field:"name",label:"Document Name"}},[t._v("\n                "+t._s(e.row.name)+"\n            ")]),n("b-table-column",{attrs:{field:"progress",label:"Progress"}},[n("div",{staticClass:"columns level"},[n("div",{staticClass:"column is-10 level-item"},[n("progress",{staticClass:"progress is-success",attrs:{max:"1"},domProps:{value:e.row.progress}})]),n("div",{staticClass:"column is-2 level-item"},[t._v("\n                        "+t._s(e.row.progress.toLocaleString("en",{style:"percent",maximumSignificantDigits:2}))+"\n                    ")])])]),n("template",{slot:"empty"},[n("section",{staticClass:"section"},[n("div",{staticClass:"content has-text-grey has-text-centered"},[n("p",[n("b-icon",{attrs:{icon:"frown",pack:"fas",size:"is-large"}})],1),n("p",[t._v("There is no result.")])])])])]}}])})],1)},on=[],rn=n("0e95"),ln=n("bc3a"),cn={name:"AnnotatingStatus",components:{BIcon:rn["a"],BTableColumn:Be["a"],BTable:Ye["a"]},data:function(){return{annotation_results:[]}},methods:{update:function(){var t=this;ln.get("project/progress/annotation/".concat(this.$route.params.project_id)).then(function(e){t.annotation_results=e.data.documents}).catch(function(e){t.$toast.open({message:"".concat(e),type:"is-danger"})})},export_result:function(t){var e=this;ln.post("project/".concat(t,"/close")).then(function(){e.$toast.open({message:"Project ".concat(t," has been closed"),type:"is-success"}),e.$router.push({name:"manage"})}).catch(function(t){e.$toast.open({message:"".concat(t),type:"is-danger"})})}},beforeCreate:function(){var t=this;ln.get("project/progress/annotation/".concat(this.$route.params.project_id)).then(function(e){t.annotation_results=e.data.documents}).catch(function(e){t.$toast.open({message:"".concat(e),type:"is-danger"})})}},hn=cn,un=(n("0e77"),Object(l["a"])(hn,an,on,!1,null,"549be902",null));un.options.__file="AnnotationStatus.vue";var dn=un.exports,mn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"content"},[n("h3",[t._v("Project "+t._s(this.project_name)+" Status")]),n("hr"),n("h5",[t._v("Summary Group Name")])]),n("b-table",{attrs:{data:t.evaluation_results},scopedSlots:t._u([{key:"default",fn:function(e){return[n("b-table-column",{attrs:{field:"no",label:"No.",width:"40"}},[t._v("\n                "+t._s(e.row.no)+"\n            ")]),n("b-table-column",{attrs:{field:"name",label:"Summary ID"}},[t._v("\n                "+t._s(e.row.name)+"\n            ")]),n("b-table-column",{attrs:{field:"progress",label:"Progress"}},[n("div",{staticClass:"columns level"},[n("div",{staticClass:"column is-10 level-item"},[n("progress",{staticClass:"progress is-success",attrs:{max:"1"},domProps:{value:e.row.progress}})]),n("div",{staticClass:"column is-2 level-item"},[t._v("\n                        "+t._s(e.row.progress.toLocaleString("en",{style:"percent",maximumSignificantDigits:2}))+"\n                    ")])])]),n("template",{slot:"empty"},[n("section",{staticClass:"section"},[n("div",{staticClass:"content has-text-grey has-text-centered"},[n("p",[n("b-icon",{attrs:{icon:"frown",pack:"fas",size:"is-large"}})],1),n("p",[t._v("There is no result.")])])])])]}}])})],1)},pn=[],fn=(n("7f7f"),n("bc3a")),vn={name:"EvaluationStatus",components:{BTableColumn:Be["a"],BTable:Ye["a"]},data:function(){return{evaluation_results:[],project_name:"",summ_group_name:""}},methods:{export_result:function(t){var e=this;fn.post("project/".concat(t,"/close")).then(function(){e.$toast.open({message:"Project ".concat(t," has been closed"),type:"is-success"}),e.$router.push({name:"manage"})}).catch(function(t){e.$toast.open({message:"".concat(t),type:"is-danger"})})}},beforeCreate:function(){var t=this;fn.get("project/progress/evaluation/".concat(this.$route.params.project_id)).then(function(e){t.evaluation_results=e.data.systems,t.project_name=e.data.name,t.summ_group_name=e.data.summ_group_name}).catch(function(e){t.$toast.open({message:"".concat(e),type:"is-danger"})})}},gn=vn,_n=(n("13eb"),Object(l["a"])(gn,mn,pn,!1,null,"e1961d50",null));_n.options.__file="EvaluationStatus.vue";var yn=_n.exports,bn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{staticClass:"label"},[t._v("Create a New Highlight Annotation Project")]),n("b-field",{attrs:{horizontal:"",label:"Name",message:"Please enter the project name"}},[n("b-input",{attrs:{name:"name",expanded:""},model:{value:t.project.name,callback:function(e){t.$set(t.project,"name",e)},expression:"project.name"}})],1),n("b-field",{attrs:{horizontal:"",label:"Dataset"}},[n("b-select",{attrs:{placeholder:"Select a dataset",icon:"database","icon-pack":"fas"},model:{value:t.project.dataset_name,callback:function(e){t.$set(t.project,"dataset_name",e)},expression:"project.dataset_name"}},t._l(t.dataset.names,function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],1),n("b-field",{attrs:{horizontal:"",label:"# of annotation",message:"Number of annotation per document"}},[n("b-input",{attrs:{name:"total_exp_results",type:"number"},model:{value:t.project.total_exp_results,callback:function(e){t.$set(t.project,"total_exp_results",t._n(e))},expression:"project.total_exp_results"}})],1),n("button",{staticClass:"button is-primary",on:{click:t.createProject}},[t._v("Create Project")])],1)},wn=[],Cn=n("bc3a"),kn={name:"NewAnnotation",data:function(){return{dataset:{names:[]},project:{name:"",dataset_name:null,category:"highlight",total_exp_results:1}}},methods:{createProject:function(){var t=this;Cn.post("/project/annotation",this.project).then(function(){t.$toast.open({message:"Project created!",type:"is-success"}),t.$router.push({name:"manage"})}).catch(function(e){t.$toast.open({message:"Project is not created! Something is wrong",type:"is-danger"}),console.log(e)})}},beforeCreate:function(){var t=this;Cn.get("dataset").then(function(e){204===e.status?t.$toast.open({message:"There is no dataset in database. Please insert dataset first!",type:"is-danger"}):t.dataset.names=e.data.names}).catch(function(t){console.log(t)})}},xn=kn,jn=(n("aa8e"),Object(l["a"])(xn,bn,wn,!1,null,"1a07b7ab",null));jn.options.__file="NewAnnotation.vue";var $n=jn.exports,Sn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{staticClass:"label"},[t._v("Create a New Project for Manual Evaluation")]),n("b-field",{attrs:{horizontal:"",label:"Name",message:"Please enter the project name"}},[n("b-input",{attrs:{name:"name",expanded:""},model:{value:t.project.name,callback:function(e){t.$set(t.project,"name",e)},expression:"project.name"}})],1),n("b-field",{attrs:{horizontal:"",label:"Category"}},[n("b-select",{attrs:{placeholder:"Select evaluation category",icon:"wrench","icon-pack":"fas"},model:{value:t.project.category,callback:function(e){t.$set(t.project,"category",e)},expression:"project.category"}},[n("option",{attrs:{value:"Informativeness_Doc"}},[t._v("Informativeness on Document")]),n("option",{attrs:{value:"Informativeness_Ref"}},[t._v("Informativeness on Reference")]),n("option",{attrs:{value:"Fluency"}},[t._v("Fluency")])])],1),n("b-field",{attrs:{horizontal:"",label:"Dataset"}},[n("b-select",{attrs:{placeholder:"Select a dataset",icon:"database","icon-pack":"fas"},model:{value:t.project.dataset_name,callback:function(e){t.$set(t.project,"dataset_name",e)},expression:"project.dataset_name"}},t._l(t.names.dataset,function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],1),n("b-field",{attrs:{horizontal:"",label:"Summary Group"}},[n("b-select",{attrs:{placeholder:"Select a summary group",icon:"file","icon-pack":"fas"},model:{value:t.project.summ_group_name,callback:function(e){t.$set(t.project,"summ_group_name",e)},expression:"project.summ_group_name"}},t._l(t.names.summ_group,function(e){return n("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],1),n("b-field",{attrs:{horizontal:"",label:"# of evaluation",message:"Number of evaluation per document"}},[n("b-input",{attrs:{name:"total_exp_results",type:"number"},model:{value:t.project.total_exp_results,callback:function(e){t.$set(t.project,"total_exp_results",t._n(e))},expression:"project.total_exp_results"}})],1),n("button",{staticClass:"button is-primary",on:{click:t.createProject}},[t._v("Create Project")])],1)},En=[],Tn=n("bc3a"),In={name:"NewEvaluation",data:function(){return{names:{dataset:[],summ_group:[]},project:{name:"",dataset_name:null,sum_group_name:null,category:null,total_exp_results:1}}},methods:{createProject:function(){var t=this;Tn.post("/project/evaluation",this.project).then(function(){t.$toast.open({message:"Project created!",type:"is-success"}),t.$router.push({name:"manage"})}).catch(function(){t.$toast.open({message:"Project is not created! Something is wrong",type:"is-danger"})})}},mounted:function(){var t=this;Tn.get("dataset").then(function(e){204===e.status?t.$toast.open({message:"There is no dataset in database. Please insert dataset first!",type:"is-danger"}):t.names.dataset=e.data.names}).catch(function(e){t.$toast.open({message:"".concat(e),type:"is-danger"})}),Tn.get("summ_group").then(function(e){204===e.status?t.$toast.open({message:"There is no summary group in database. Please insert summary group first!",type:"is-danger"}):t.names.summ_group=e.data.names}).catch(function(e){t.$toast.open({message:"".concat(e),type:"is-danger"})})}},Dn=In,An=(n("1385"),Object(l["a"])(Dn,Sn,En,!1,null,"0b301048",null));An.options.__file="NewEvaluation.vue";var Pn=An.exports,Nn=n("2f62"),On=n("bc3a"),Ln=n.n(On);function Mn(t){return Ln.a.post("/login",t)}s["default"].use(Nn["a"]);var Hn={isAuthenticated:function(t){return $e(t.jwt.token)}},Rn={login:function(t,e){return Mn(e).then(function(e){return t.commit("setJWTToken",{jwt:e.data})}).catch(function(t){je.$emit("failedAuthentication",t)})}},Wn={setJWTToken:function(t,e){localStorage.token=e.jwt.token,t.jwt=e.jwt}},zn={jwt:""},Gn=new Nn["a"].Store({actions:Rn,mutations:Wn,state:zn,getters:Hn}),qn=Gn;s["default"].use(d["a"]);var Fn=new d["a"]({routes:[{path:"/",redirect:{name:"admin"}},{path:"/admin",component:Le,children:[{path:"",name:"admin",component:Ge},{path:"new",component:sn,children:[{path:"",name:"new",component:$n},{path:"annotation",name:"newAnnotation",component:$n},{path:"evaluation",name:"newEvaluation",component:Pn}]},{path:"manage",name:"manage",component:Ve},{path:"annotation_status/:project_id",name:"annotation_status",component:dn},{path:"evaluation_status/:project_id",name:"evaluation_status",component:yn}],beforeEnter:function(t,e,n){qn.getters.isAuthenticated?n():n("/login")}},{path:"/annotation/highlight/:project_id",redirect:{path:"/annotation/highlight/:project_id/0"}},{path:"/annotation/highlight/:project_id/:mturk",name:"annotation",component:bt},{path:"/evaluation/informativeness_doc/:project_id",name:"evalinfdoc",component:Ft},{path:"/evaluation/informativeness_ref/:project_id",name:"evalinfref",component:oe},{path:"/evaluation/fluency/:project_id",name:"fluency",component:Ce},{path:"/login",name:"login",component:Ie,beforeEnter:function(t,e,n){qn.getters.isAuthenticated?n("/admin"):n()}}]});s["default"].config.productionTip=!1,s["default"].use(i.a),new s["default"]({store:qn,router:Fn,render:function(t){return t(u)}}).$mount("#app")},5739:function(t,e,n){},"57bc":function(t,e,n){"use strict";var s=n("72a4"),a=n.n(s);a.a},"57c1":function(t,e,n){},"5a20":function(t,e,n){"use strict";var s=n("9614"),a=n.n(s);a.a},"5c0b":function(t,e,n){"use strict";var s=n("5e27"),a=n.n(s);a.a},"5e27":function(t,e,n){},6046:function(t,e,n){"use strict";var s=n("80ed"),a=n.n(s);a.a},"72a4":function(t,e,n){},"73b2":function(t,e,n){},"80ed":function(t,e,n){},"8cf4":function(t,e,n){},"92fc":function(t,e,n){},9614:function(t,e,n){},9823:function(t,e,n){"use strict";var s=n("ed9a"),a=n.n(s);a.a},9974:function(t,e,n){"use strict";var s=n("c816"),a=n.n(s);a.a},"9a10":function(t,e,n){"use strict";var s=n("c94f"),a=n.n(s);a.a},"9ffa":function(t,e,n){"use strict";var s=n("57c1"),a=n.n(s);a.a},a485:function(t,e,n){},a5a7:function(t,e,n){},a758:function(t,e,n){"use strict";var s=n("4b08"),a=n.n(s);a.a},aa8e:function(t,e,n){"use strict";var s=n("b4ca"),a=n.n(s);a.a},ac39:function(t,e,n){"use strict";var s=n("3068"),a=n.n(s);a.a},b4ca:function(t,e,n){},c259:function(t,e,n){"use strict";var s=n("ca02"),a=n.n(s);a.a},c39b:function(t,e,n){"use strict";var s=n("3813"),a=n.n(s);a.a},c465:function(t,e,n){"use strict";var s=n("8cf4"),a=n.n(s);a.a},c816:function(t,e,n){},c94f:function(t,e,n){},ca02:function(t,e,n){},d2b9:function(t,e,n){"use strict";var s=n("a485"),a=n.n(s);a.a},e3f1:function(t,e,n){},ed9a:function(t,e,n){},f2af:function(t,e,n){}});
//# sourceMappingURL=app.fe18d9c8.js.map