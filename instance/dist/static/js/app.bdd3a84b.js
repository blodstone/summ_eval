(function(t){function e(e){for(var n,o,r=e[0],c=e[1],l=e[2],h=0,m=[];h<r.length;h++)o=r[h],a[o]&&m.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],n=!0,r=1;r<s.length;r++){var c=s[r];0!==a[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=s[0]))}return t}var n={},a={app:0},i=[];function o(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=n,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"008f":function(t,e,s){},"02bc":function(t,e,s){"use strict";var n=s("a33d"),a=s.n(n);a.a},1211:function(t,e,s){"use strict";var n=s("493e"),a=s.n(n);a.a},"26a7":function(t,e,s){"use strict";var n=s("d205"),a=s.n(n);a.a},"2b71":function(t,e,s){t.exports=s.p+"static/img/highlight_menu.f18c2aa2.png"},"2c52":function(t,e,s){},"2ca5":function(t,e,s){"use strict";var n=s("3396"),a=s.n(n);a.a},3068:function(t,e,s){},3396:function(t,e,s){},"33b4":function(t,e,s){"use strict";var n=s("76db"),a=s.n(n);a.a},"493e":function(t,e,s){},"49de":function(t,e,s){"use strict";var n=s("008f"),a=s.n(n);a.a},5198:function(t,e,s){"use strict";var n=s("5739"),a=s.n(n);a.a},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("097d");var n=s("2b0e"),a=s("8a03"),i=s.n(a),o=(s("5abe"),s("a23f"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"clearfix"},[s("nav",{staticClass:"navbar",attrs:{role:"navigation","aria-label":"main navigation"}},[s("div",{staticClass:"container is-fluid"},[s("div",{staticClass:"navbar-brand"},[s("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[t._v("\n            Summ-Eval\n          ")])],1),s("div",{staticClass:"navbar-menu",attrs:{id:"navbarBasicExample"}},[s("div",{staticClass:"navbar-start"},[s("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[s("a",{staticClass:"navbar-link"},[t._v("\n                  Projects\n                ")]),s("div",{staticClass:"navbar-dropdown"},[s("router-link",{staticClass:"navbar-item",attrs:{to:"/new"}},[t._v("\n                    New...\n                  ")]),s("router-link",{staticClass:"navbar-item",attrs:{to:"/manage"}},[t._v("\n                    Manage...\n                  ")])],1)]),s("router-link",{staticClass:"navbar-item",attrs:{to:"/status"}},[t._v("\n                Status\n              ")])],1)])])]),s("router-view")],1)}),r=[],c=(s("5c0b"),s("2877")),l={},u=Object(c["a"])(l,o,r,!1,null,null,null);u.options.__file="App.vue";var h=u.exports,m=s("8c4f"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container is-fluid home"},[s("div",{staticClass:"columns"},[t._m(0),s("div",{staticClass:"column"},[s("div",{staticClass:"box document"},[s("Document",{attrs:{project_id:t.project_id},on:{highlight:t.updateSummaryBox}})],1)]),s("div",{staticClass:"column is-3"},[s("div",{staticClass:"box summary"},[s("div",{staticClass:"content"},[s("h2",[t._v("Summary")]),s("h4",{staticClass:"my-title"},[t._v("Words left")]),s("p",[t._v(t._s(t.wordsLeft)+" words.")]),s("h5",{staticClass:"my-title"},[t._v("Phrases that you've selected:")]),s("p",{domProps:{innerHTML:t._s(t.summaries)}})])])])])])},p=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"column is-3"},[s("div",{staticClass:"box instruction"},[s("div",{staticClass:"content"},[s("h2",[t._v("\n            Instructions\n          ")]),s("h5",{staticClass:"my-title"},[t._v("Task Description")]),s("p",{staticClass:"my-text"},[t._v("Your task is to select important phrases from the document by highlighting them.")]),s("p",{staticClass:"my-text"},[t._v("Select phrases that are the most informative, use the 5W1H (who, what, when, where, why and how) guidance the determine the informativeness of a phrase.")]),s("h5",{staticClass:"my-title"},[t._v("Create Highlights and Delete Them: How-To")]),s("p",{staticClass:"my-text"},[t._v("To highlight, use your mouse to select phrases from the document, when you have finished, selected words will automatically count as a group of highlight.")]),s("p",{staticClass:"my-text"},[t._v("To delete a group of highlights, right click on the highlight.")]),s("h5",{staticClass:"my-title"},[t._v("Shows Related Works by Co-Reference: How-To.")]),s("p",{staticClass:"my-text"},[t._v("Clicking on phrase that are colored as blue will show you related phrases that are referring to them. This is automatically generated by system.")])])])])}],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{ref:"document",on:{mouseup:t.showHighlightMenu,contextmenu:function(e){return e.preventDefault(),t.deleteHighlightGroup(e)},click:t.showMentions}}),n("hr"),n("div",{attrs:{align:"center"}},[n("a",{staticClass:"button is-primary",attrs:{disabled:t.timer.isRunning},on:{click:function(e){t.saveAnnotation()}}},[t._v(t._s(t.timenow))])]),n("div",{style:t.floatMenu},[n("img",{attrs:{src:s("2b71"),width:"35",alt:"Highlight"},on:{click:t.highlightSelection}})])])},v=[],g=(s("6b54"),s("84b4"),s("6762"),s("2fdb"),s("ac6a"),s("456d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{ref:"word",attrs:{"data-type":t.type,"data-index":t.index}})}),_=[],b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{style:t.charStyle,attrs:{"data-type":t.type,"data-index":t.index}},[t._t("default")],2)},y=[],w={name:"Char",props:["index","fgColor","bgColor","type","fontWeight","cursor","compIndex"],data:function(){return{charStyle:{"background-color":this.bgColor,color:this.fgColor,"font-weight":this.fontWeight,cursor:this.cursor}}},methods:{highlight:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.charStyle["background-color"]=t,this.charStyle.opacity=e},rmHighlight:function(){this.charStyle["background-color"]="#ffffff",this.charStyle.opacity=1}}},C=w,x=(s("d237"),Object(c["a"])(C,b,y,!1,null,"e0e6a446",null));x.options.__file="Char.vue";var j=x.exports,$=n["default"].extend(j),k={name:"Word",props:["index","sentIndex","tokenIndex","word","type","isSource","compIndex"],data:function(){return{chars:[]}},methods:{annotate:function(){var t=this;this.chars.forEach(function(e,s){t.chars[s].$data.charStyle.color="#ff00ff",t.chars[s].$data.charStyle["font-weight"]="bold"})},resetAnnotation:function(){var t=this;this.isSource?this.chars.forEach(function(e,s){t.chars[s].$data.charStyle.color="#3878E5",t.chars[s].$data.charStyle.cursor="pointer",t.chars[s].$data.charStyle["font-weight"]="bold"}):this.chars.forEach(function(e,s){t.chars[s].$data.charStyle.color="#000000",t.chars[s].$data.charStyle.cursor="text",t.chars[s].$data.charStyle["font-weight"]="normal"})},highlight:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.chars.forEach(function(n,a){e.chars[a].$data.charStyle["background-color"]=t,e.chars[a].$data.charStyle.opacity=s})},rmHighlight:function(){var t=this;this.chars.forEach(function(e,s){t.chars[s].$data.charStyle["background-color"]="#ffffff",t.chars[s].$data.charStyle.opacity=1})}},mounted:function(){for(var t=0;t<this.word.length;t+=1){var e="#000000",s="normal",n="text";!0===this.isSource&&(e="#3878E5",s="bold",n="pointer");var a=new $({propsData:{bgColor:"#ffffff",fgColor:e,fontWeight:s,type:"char",cursor:n}});a.$slots.default=[this.word[t]],this.chars.push(a),a.$mount(),this.$refs.word.appendChild(a.$el)}}},S=k,E=(s("2ca5"),Object(c["a"])(S,g,_,!1,null,"4a97b304",null));E.options.__file="Word.vue";var I=E.exports,D=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},P=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("br"),s("br")])}],N={name:"LineBreaker"},O=N,T=(s("5198"),Object(c["a"])(O,D,P,!1,null,"4d94e7ae",null));T.options.__file="LineBreaker.vue";var M=T.exports,A=5,G=s("bc3a");function R(t,e,s,a){var i=n["default"].extend(I),o=new i({propsData:{sentIndex:t.index,tokenIndex:e.index,word:e.word,index:s,compIndex:this.components.length,type:"word",isSource:a.isSource}});o.$mount(),!0===a.isSource&&(this.words2corefID[s]=a.corefID),this.components.push(o),this.words[s]=o,this.words2Groups[s]=[],this.$refs.document.appendChild(o.$el)}function H(t,e){var s=n["default"].extend(j),a=new s({propsData:{bgColor:"#ffffff",type:"whitespace",index:e,compIndex:this.components.length}});a.$slots.default=[t],a.$mount(),this.components.push(a),this.whitespaces[e]=a,this.whitespaces2Groups[e]=[],this.$refs.document.appendChild(a.$el)}function L(){var t=n["default"].extend(M),e=new t;e.$mount(),this.$refs.document.appendChild(e.$el)}function W(){this.rawSummariesHTML="";for(var t="",e=0;e<Object.keys(this.groups).length;e+=1){var s=Object.keys(this.groups)[e];t="<p style='background-color: ".concat(this.group2color[s],"'>").concat(e+1,": ");for(var n=0;n<this.groups[s].length;n+=1){var a=this.groups[s][n];"word"===a.$props.type&&(t="".concat(t," ").concat(a.$props.word))}t="".concat(t,"</p>"),this.rawSummariesHTML="".concat(this.rawSummariesHTML).concat(t)}}function z(t){var e=this,s={};Object.keys(t.corefs).forEach(function(e){var n=parseInt(e,10),a=t.corefs[n][0].id;a in s||(s[a]=[]);for(var i=0;i<t.corefs[n].length;i+=1)s[a].push(t.corefs[n][i])}),Object.keys(s).forEach(function(t){for(var n=parseInt(t,10),a=0;a<s[n].length;a+=1){var i=s[n][a];n in e.srcCorefID2mentionsCorefID||(e.srcCorefID2mentionsCorefID[n]=[]),e.srcCorefID2mentionsCorefID[n].push(i.id),i.id in e.mentions||(e.mentions[i.id]={id:i.id,startIndex:i.startIndex,endIndex:i.endIndex,sentIndex:i.sentNum}),n===i.id&&(i.sentNum in e.sentNum2srcCorefID||(e.sentNum2srcCorefID[i.sentNum]=[]),e.sentNum2srcCorefID[i.sentNum].push(n))}})}function Y(t,e){if(t.index+1 in this.sentNum2srcCorefID)for(var s=this.sentNum2srcCorefID[t.index+1],n=0;n<s.length;n+=1)if(e.index>=this.mentions[s[n]].startIndex&&e.index<this.mentions[s[n]].endIndex)return{isSource:!0,corefID:s[n]};return!1}function B(t){var e=0,s=0,n=t.paragraph.endSentIndex;z.call(this,t);for(var a=0;a<t.sentences.length;a+=1){for(var i=t.sentences[a],o=0;o<i.tokens.length;o+=1){var r=i.tokens[o],c=Y.call(this,i,r);R.call(this,i,r,e,c),o!==i.tokens.length-2&&(H.call(this," ",s),s+=1),e+=1}n.includes(i.index+1)&&L.call(this)}}function F(){var t=this;G.get("project/annotation/highlight/".concat(this.project_id,"/single_doc")).then(function(e){B.call(t,JSON.parse(e.data.doc_json)),t.doc_status_id=e.data.doc_status_id}).catch(function(e){t.$toast.open({message:"".concat(e),type:"is-danger"})})}function J(t){var e=this;G.post("project/save_result/annotation",t).then(function(){e.$toast.open({message:"Submission successful.",type:"is-success"})}).catch(function(t){e.$toast.open({message:"".concat(t),type:"is-danger"})})}function Q(t){t&&(t.empty?t.empty():t.removeAllRanges&&t.removeAllRanges())}function q(){return window.getSelection?window.getSelection():document.getSelection?document.getSelection():document.selection?document.selection.createRange().text:null}function U(t){return 0===this.whitespaces2Groups[t].length?-1:this.whitespaces2Groups[t][this.whitespaces2Groups[t].length-1]}function V(t){return 0===this.words2Groups[t].length?-1:this.words2Groups[t][this.words2Groups[t].length-1]}function X(t,e,s){var n=[],a=!1;return this.groups[s].forEach(function(e){e===t&&(a=!0)}),!1===a&&n.push(t),n}function K(t,e,s,n){for(var a=0;a<t.length;a+=1){var i=t[a];this.groups[n].push(i),this.whitespaces2Groups[i.index].push(n),i.$data.charStyle["background-color"]=s}for(var o=0;o<e.length;o+=1){var r=e[o];this.groups[n].push(r),this.words2Groups[r.index].push(n),r.highlight(s)}}var Z={name:"Document",props:["project_id"],data:function(){return{doc_status_id:"",timer:{now:Math.trunc((new Date).getTime()/1e3),date:Math.trunc((new Date).getTime()/1e3),isRunning:!0,timer:null},components:[],words:{},whitespaces:{},whitespaces2Groups:{},words2Groups:{},groups:{},floatMenu:{display:"none"},annotatedWords:[],sentNum2srcCorefID:{},mentions:{},srcCorefID2mentionsCorefID:{},words2corefID:{},group2color:{},rawSummariesHTML:""}},computed:{timenow:function(){if(!0===this.timer.isRunning){if(this.timer.now-this.timer.date<A)return"Wait ".concat(A-(this.timer.now-this.timer.date)," seconds");this.timer.isRunning=!1,window.clearInterval(this.timer.timer)}return"Click to submit"}},methods:{saveAnnotation:function(){for(var t={project_id:this.project_id,status_id:this.doc_status_id,result_json:{highlights:{},components:[],words:[]},category:"highlight"},e=0;e<Object.keys(this.groups).length;e+=1){var s=Object.keys(this.groups)[e],n="";t.result_json.highlights[s]={indexes:[]};for(var a=0;a<this.groups[s].length;a+=1){var i=this.groups[s][a];"word"===i.$props.type&&(n="".concat(n," ").concat(i.$props.word).trim()),t.result_json.highlights[s].indexes.push(i.$props.compIndex)}t.result_json.highlights[s].text=n}for(var o=0;o<this.components.length;o+=1)"word"===this.components[o].type?t.result_json.components.push({type:this.components[o].type,word:this.components[o].word}):t.result_json.components.push({type:this.components[o].type,word:" "});for(var r=0;r<Object.keys(this.words).length;r+=1){var c=Object.keys(this.words)[r];t.result_json.words[c]={word:this.words[c].word}}J.call(this,t)},showMentions:function(t){var e=-1;if("word"===t.target.parentElement.dataset.type?e=this.words2corefID[t.target.parentElement.dataset.index]:"char"===t.target.parentElement.dataset.type&&(e=this.words2corefID[t.target.parentElement.parentElement.dataset.index]),-1!==e){for(var s=0;s<this.annotatedWords.length;s+=1)this.annotatedWords[s].resetAnnotation();this.annotatedWords=[];for(var n=this.srcCorefID2mentionsCorefID[e],a=0;a<Object.keys(this.words).length;a+=1)for(var i=Object.keys(this.words)[a],o=this.words[i].tokenIndex,r=0;r<n.length;r+=1)this.words[i].sentIndex+1===this.mentions[n[r]].sentIndex&&o>=this.mentions[n[r]].startIndex&&o<this.mentions[n[r]].endIndex&&(this.words[i].annotate(),1===r&&(this.words[i].$refs.word.scrollIntoView(),window.scrollBy(0,window.innerHeight/10*-1)),this.annotatedWords.push(this.words[i]))}},deleteHighlightGroup:function(t){var e=this,s=-1;"whitespace"===t.target.parentElement.dataset.type?s=U.call(this,t.target.parentElement.dataset.index):"word"===t.target.parentElement.dataset.type?s=V.call(this,t.target.parentElement.dataset.index):"char"===t.target.parentElement.dataset.type&&(s=V.call(this,t.target.parentElement.parentElement.dataset.index)),-1!==s&&this.$dialog.confirm({message:"Do you want to delete the highlights?",onConfirm:function(){e.groups[s].forEach(function(t){if("whitespace"===t.$props.type){for(var n=0;n<e.whitespaces2Groups[t.$props.index].length;n+=1)if(e.whitespaces2Groups[t.$props.index][n]===s){e.whitespaces2Groups[t.$props.index].splice(n,1),0===e.whitespaces2Groups[t.$props.index].length&&(t.$data.charStyle["background-color"]="#ffffff");break}}else if("word"===t.$props.type)for(var a=0;a<e.words2Groups[t.$props.index].length;a+=1)if(e.words2Groups[t.$props.index][a]===s){e.words2Groups[t.$props.index].splice(a,1),0===e.words2Groups[t.$props.index].length&&t.rmHighlight();break}}),s in e.groups&&delete e.groups[s];var t=0;for(var n in e.words2Groups)e.words2Groups[n].length>0&&(t+=1);W.call(e),e.$emit("highlight",{words:t,summaries:e.rawSummariesHTML})}})},highlightSelection:function(){var t=0;Object.keys(this.groups).forEach(function(e){t=parseInt(e,10)+1}),this.groups[t]=[];var e="#77e529";this.group2color[t]=e;var s=q(),n=s.getRangeAt(0),a=document.createNodeIterator(n.commonAncestorContainer,NodeFilter.SHOW_ALL,{acceptNode:function(){return NodeFilter.FILTER_ACCEPT}}),i=[],o=[],r=[];while(a.nextNode())if(0!==i.length||a.referenceNode===n.startContainer){if(i.push(a.referenceNode),"whitespace"===a.referenceNode.parentElement.dataset.type){var c=a.referenceNode.parentElement.dataset.index;o=o.concat(X.call(this,this.whitespaces[c],"char",t))}if("word"===a.referenceNode.parentElement.dataset.type){var l=a.referenceNode.parentElement.dataset.index;r.includes(this.words[l])||(r=r.concat(X.call(this,this.words[l],"word",t)))}if(a.referenceNode===n.endContainer)break}var u=0;for(var h in this.words2Groups)this.words2Groups[h].length>0&&(u+=1);for(var m=0;m<r.length;m+=1){var d=r[m];0===this.words2Groups[d.index].length&&(u+=1)}u<=30?(K.call(this,o,r,e,t),W.call(this),this.$emit("highlight",{words:u,summaries:this.rawSummariesHTML})):(this.$toast.open({message:"Your highlights have passed the 100 words limit. Remove previous highlights or shorten the highlights.",type:"is-danger"}),delete this.group2color[t],delete this.groups[t]),this.floatMenu.display="none",Q(s)},showHighlightMenu:function(t){var e=q();""!==e.toString()?(this.floatMenu.display="block",this.floatMenu.position="fixed",this.$set(this.floatMenu,"left","".concat(t.pageX-10,"px")),this.$set(this.floatMenu,"top","".concat(t.pageY-(window.scrollY-20),"px"))):this.floatMenu.display="none"}},mounted:function(){var t=this;F.call(this),this.timer.timer=window.setInterval(function(){t.timer.now=Math.trunc((new Date).getTime()/1e3)},1e3)}},tt=Z,et=(s("33b4"),Object(c["a"])(tt,f,v,!1,null,"6d31af36",null));et.options.__file="Document.vue";var st=et.exports,nt={name:"HighlightEditor",components:{Document:st},data:function(){return{project_id:this.$route.params.project_id,wordsLeft:30,summaries:""}},methods:{updateSummaryBox:function(t){this.wordsLeft=30-t.words,this.summaries=t.summaries}}},at=nt,it=(s("bd0e"),Object(c["a"])(at,d,p,!1,null,"03f4b118",null));it.options.__file="Annotation.vue";var ot=it.exports,rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container is-fluid home"},[s("div",{staticClass:"columns is-2 is-variable"},[s("div",{staticClass:"column is-3"},[s("div",{staticClass:"box instruction"},[s("div",{staticClass:"content"},[s("h1",[t._v("\n                        Instructions & Controls\n                    ")]),s("h5",{staticClass:"my-header"},[t._v("Instruction")]),s("h5",{staticClass:"my-title"},[t._v("Task Description")]),s("p",{staticClass:"my-text"},[t._v("\n                        Your task is to assess the quality of the summary based on the article.\n                    ")]),s("hr"),s("h5",{staticClass:"my-header"},[t._v("Controls")]),s("h5",{staticClass:"my-title"},[t._v("Heatmap")]),s("p",{staticClass:"my-text"},[t._v("Phrases that are important in the document have been marked using heatmap coloring. The higher the intensity the greater the phrases' importance. You can view certain intensities range by changing the slider below.")]),s("div",{staticStyle:{"margin-bottom":"1.8rem","margin-top":"1.8rem"}},[s("vue-slider",t._b({on:{input:t.onSliderInput},model:{value:t.intensitySlider.value,callback:function(e){t.$set(t.intensitySlider,"value",e)},expression:"intensitySlider.value"}},"vue-slider",t.intensitySlider.options,!1))],1)])])]),s("div",{staticClass:"column"},[s("div",{staticClass:"box document"},[s("div",{ref:"document"})])]),s("div",{staticClass:"column is-3"},[s("div",{staticClass:"box summary"},[s("div",{staticClass:"content"},[s("h1",[t._v("Assessment")]),s("h5",{staticClass:"my-header"},[t._v("Summary to be assessed")]),s("p",{staticClass:"my-summary"},[t._v(t._s(t.system_text))]),s("hr"),s("h5",{staticClass:"my-header"},[t._v("\n                        Your Assessment\n                    ")]),s("h5",{staticClass:"my-title"},[t._v("Question #1")]),s("p",{staticClass:"my-text"},[t._v(" Is the summary missing important information?")]),s("p",{staticClass:"my-text"},[s("strong",[t._v(t._s(t.recall)+" % ")]),t._v(" of information is missing\n                    ")]),s("div",{staticClass:"level",attrs:{align:"center"}},[t._m(0),s("span",{staticClass:"level-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.recall,expression:"recall"}],staticClass:"my-slider slider is-info is-fullwidth",attrs:{type:"range",min:"0",max:"100"},domProps:{value:t.recall},on:{__r:function(e){t.recall=e.target.value}}})]),t._m(1)]),s("h5",{staticClass:"my-title"},[t._v("Question #2")]),s("p",{staticClass:"my-text"},[t._v(" Does the summary contain only important information?")]),s("p",{staticClass:"my-text"},[s("strong",[t._v(t._s(t.precision)+" % ")]),t._v(" of information is important\n                    ")]),s("div",{staticClass:"level",attrs:{align:"center"}},[t._m(2),s("span",{staticClass:"level-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.precision,expression:"precision"}],staticClass:"my-slider slider is-info is-fullwidth",attrs:{type:"range",min:"0",max:"100"},domProps:{value:t.precision},on:{__r:function(e){t.precision=e.target.value}}})]),t._m(3)]),s("a",{staticClass:"button is-primary",attrs:{disabled:t.timer.isRunning},on:{click:function(e){t.saveEvaluation()}}},[t._v(t._s(t.timenow))])])])])])])},ct=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"level-left"},[s("label",{staticClass:"label is-small"},[t._v("Nothing "),s("br"),t._v(" is "),s("br"),t._v(" missing")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"level-right"},[s("label",{staticClass:"label is-small"},[t._v("Everything "),s("br"),t._v(" is "),s("br"),t._v(" missing")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"level-left"},[s("label",{staticClass:"label is-small"},[t._v("Nothing "),s("br"),t._v(" is "),s("br"),t._v(" important")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"level-right"},[s("label",{staticClass:"label is-small"},[t._v("Everything "),s("br"),t._v(" is "),s("br"),t._v(" important")])])}],lt=s("6f79"),ut=s.n(lt),ht=s("bc3a"),mt=5;function dt(t,e,s){var a=n["default"].extend(I),i=new a({propsData:{sentIndex:t.index,tokenIndex:e.index,word:e.word,index:s,compIndex:this.components.length,type:"word"}});i.$mount(),this.components.push(i),this.words[s]=i,this.words2Groups[s]=[],this.$refs.document.appendChild(i.$el)}function pt(t,e){var s=n["default"].extend(j),a=new s({propsData:{bgColor:"#ffffff",type:"whitespace",index:e,compIndex:this.components.length}});a.$slots.default=[t],a.$mount(),this.components.push(a),this.whitespaces[e]=a,this.whitespaces2Groups[e]=[],this.$refs.document.appendChild(a.$el)}function ft(){var t=n["default"].extend(M),e=new t;e.$mount(),this.$refs.document.appendChild(e.$el)}function vt(t){for(var e=0;e<Object.keys(t).length;e+=1)for(var s=t[Object.keys(t)[e]],n=0;n<Object.keys(s.highlights).length;n+=1)for(var a=s.highlights[Object.keys(s.highlights)[n]],i=0;i<a.indexes.length;i+=1)a.indexes[i]in this.highlight.intensities?this.highlight.intensities[a.indexes[i]]+=1:this.highlight.intensities[a.indexes[i]]=0,this.highlight.intensities[a.indexes[i]]>this.highlight.max&&(this.highlight.max=this.highlight.intensities[a.indexes[i]]);for(var o=0;o<Object.keys(this.highlight.intensities).length;o+=1)this.highlight.intensities[Object.keys(this.highlight.intensities)[o]]/=this.highlight.max;for(var r=0;r<=this.highlight.max;r+=1)this.intensitySlider.options.data.push(r);this.intensitySlider.value=[0,this.highlight.max]}function gt(){for(var t=0;t<Object.keys(this.highlight.intensities).length;t+=1){var e=parseInt(Object.keys(this.highlight.intensities)[t],10),s=this.highlight.intensities[Object.keys(this.highlight.intensities)[t]],n=this.intensitySlider.value[0]/this.highlight.max,a=this.intensitySlider.value[1]/this.highlight.max;s<=a&&s>=n?this.components[e].highlight("rgba(255, ".concat(255-255*s,", 0)")):this.components[e].rmHighlight()}}function _t(t){vt.call(this,t.results);for(var e=0,s=0,n=t.paragraph.endSentIndex,a=0;a<t.sentences.length;a+=1){for(var i=t.sentences[a],o=0;o<i.tokens.length;o+=1){var r=i.tokens[o];dt.call(this,i,r,e),o!==i.tokens.length-2&&(pt.call(this," ",s),s+=1),e+=1}n.includes(i.index+1)&&ft.call(this)}}function bt(){var t=this;ht.get("project/evaluation/informativeness_doc/".concat(this.project_id,"/single_doc")).then(function(e){_t.call(t,e.data.doc_json),t.system_text=e.data.system_text,t.summ_status_id=e.data.summ_status_id}).catch(function(e){t.$toast.open({message:"".concat(e),type:"is-danger"})})}function yt(t){return 255-t/this.highlight.max*255}function wt(t){var e=this;ht.post("project/save_result/evaluation",t).then(function(){e.$toast.open({message:"Submission successful.",type:"is-success"})}).catch(function(t){e.$toast.open({message:"".concat(t),type:"is-danger"})})}var Ct={name:"EvalInfDoc",components:{vueSlider:ut.a},computed:{timenow:function(){if(!0===this.timer.isRunning){if(this.timer.now-this.timer.date<mt)return"Wait ".concat(mt-(this.timer.now-this.timer.date)," seconds");this.timer.isRunning=!1,window.clearInterval(this.timer.timer)}return"Click to submit"}},methods:{onSliderInput:function(){var t=yt.call(this,this.intensitySlider.value[0]),e=yt.call(this,this.intensitySlider.value[1]);this.intensitySlider.options.processStyle.backgroundImage="-webkit-linear-gradient(left, rgba(255,".concat(t,",0,1), rgba(255,").concat(e,",0,1))"),this.intensitySlider.options.sliderStyle=[{backgroundColor:"rgba(255,".concat(t,",0,1)")},{backgroundColor:"rgba(255,".concat(e,",0,1)")}],gt.call(this)},saveEvaluation:function(){var t={project_id:this.project_id,status_id:this.summ_status_id,precision:this.precision,recall:this.recall,category:"Informativeness_Doc"};wt.call(this,t)}},data:function(){return{highlight:{intensities:{},max:-1},timer:{now:Math.trunc((new Date).getTime()/1e3),date:Math.trunc((new Date).getTime()/1e3),isRunning:!0,timer:null},intensitySlider:{value:[0,2],options:{tooltip:"always",tooltipDir:["bottom","top"],piecewise:!1,piecewiseLabel:!0,data:[],sliderStyle:[{backgroundColor:"rgba(255,255,0,1)"},{backgroundColor:"rgba(255,0,0,1)"}],processStyle:{backgroundImage:"-webkit-linear-gradient(left, rgba(255,255,0,1), rgba(255,0,0,1))"}}},components:[],words:{},whitespaces:{},whitespaces2Groups:{},words2Groups:{},precision:50,recall:50,project_id:this.$route.params.project_id,summ_status_id:"",system_text:""}},mounted:function(){var t=this;bt.call(this),this.timer.timer=window.setInterval(function(){t.timer.now=Math.trunc((new Date).getTime()/1e3)},1e3)}},xt=Ct,jt=(s("1211"),Object(c["a"])(xt,rt,ct,!1,null,"638d98d1",null));jt.options.__file="EvalInfDoc.vue";var $t=jt.exports,kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container home"},[s("div",{staticClass:"columns is-2 is-variable"},[s("div",{staticClass:"column is-5 is-offset-1"},[s("div",{staticClass:"box document"},[s("div",{staticClass:"content"},[s("h1",[t._v("Reference Text")]),s("h5",{staticClass:"my-header"},[t._v("Read this text")]),s("p",{staticClass:"my-summary"},[t._v(t._s(t.ref_text))])])])]),s("div",{staticClass:"column is-5"},[s("div",{staticClass:"box summary"},[s("div",{staticClass:"content"},[s("h1",[t._v("Assessment")]),s("h5",{staticClass:"my-header"},[t._v("Summary to be assessed")]),s("p",{staticClass:"my-summary"},[t._v(t._s(t.system_text))]),s("hr"),s("h5",{staticClass:"my-header"},[t._v("\n                          Your Assessment\n                      ")]),s("h5",{staticClass:"my-title"},[t._v("Question #1")]),s("p",{staticClass:"my-text"},[t._v(" Is the summary missing important information?")]),s("p",{staticClass:"my-text"},[s("strong",[t._v(t._s(t.recall)+" % ")]),t._v(" of information is missing\n                      ")]),s("div",{staticClass:"level",attrs:{align:"center"}},[t._m(0),s("span",{staticClass:"level-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.recall,expression:"recall"}],staticClass:"my-slider slider is-info is-fullwidth",attrs:{type:"range",min:"0",max:"100"},domProps:{value:t.recall},on:{__r:function(e){t.recall=e.target.value}}})]),t._m(1)]),s("h5",{staticClass:"my-title"},[t._v("Question #2")]),s("p",{staticClass:"my-text"},[t._v(" Does the summary contain only important information?")]),s("p",{staticClass:"my-text"},[s("strong",[t._v(t._s(t.precision)+" % ")]),t._v(" of information is important\n                      ")]),s("div",{staticClass:"level",attrs:{align:"center"}},[t._m(2),s("span",{staticClass:"level-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.precision,expression:"precision"}],staticClass:"my-slider slider is-info is-fullwidth",attrs:{type:"range",min:"0",max:"100"},domProps:{value:t.precision},on:{__r:function(e){t.precision=e.target.value}}})]),t._m(3)]),s("a",{staticClass:"button is-primary",attrs:{disabled:t.timer.isRunning},on:{click:function(e){t.saveEvaluation()}}},[t._v(t._s(t.timenow))])])])])])])},St=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"level-left"},[s("label",{staticClass:"label is-small"},[t._v("Nothing "),s("br"),t._v(" is "),s("br"),t._v(" missing")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"level-right"},[s("label",{staticClass:"label is-small"},[t._v("\n                                  Everything "),s("br"),t._v(" is "),s("br"),t._v(" missing")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"level-left"},[s("label",{staticClass:"label is-small"},[t._v("\n                                  Nothing "),s("br"),t._v(" is "),s("br"),t._v(" important\n                              ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"level-right"},[s("label",{staticClass:"label is-small"},[t._v("\n                                  Everything "),s("br"),t._v(" is "),s("br"),t._v(" important")])])}],Et=s("bc3a"),It=5;function Dt(){var t=this;Et.get("project/evaluation/informativeness_ref/".concat(this.project_id,"/single_doc")).then(function(e){t.system_text=e.data.system_text,t.ref_text=e.data.ref_text,t.summ_status_id=e.data.summ_status_id}).catch(function(e){t.$toast.open({message:"".concat(e),type:"is-danger"})})}function Pt(t){var e=this;Et.post("project/save_result/evaluation",t).then(function(){e.$toast.open({message:"Submission successful.",type:"is-success"})}).catch(function(t){e.$toast.open({message:"".concat(t),type:"is-danger"})})}var Nt={data:function(){return{system_text:"",ref_text:"",timer:{now:Math.trunc((new Date).getTime()/1e3),date:Math.trunc((new Date).getTime()/1e3),isRunning:!0,timer:null},precision:50,recall:50,project_id:this.$route.params.project_id,summ_status_id:""}},methods:{saveEvaluation:function(){var t={project_id:this.project_id,status_id:this.summ_status_id,precision:this.precision,recall:this.recall,category:"Informativeness_Ref"};Pt.call(this,t)}},computed:{timenow:function(){if(!0===this.timer.isRunning){if(this.timer.now-this.timer.date<It)return"Wait ".concat(It-(this.timer.now-this.timer.date)," seconds");this.timer.isRunning=!1,window.clearInterval(this.timer.timer)}return"Click to submit"}},mounted:function(){var t=this;Dt.call(this),this.timer.timer=window.setInterval(function(){t.timer.now=Math.trunc((new Date).getTime()/1e3)},1e3)}},Ot=Nt,Tt=(s("9974"),Object(c["a"])(Ot,kt,St,!1,null,null,null));Tt.options.__file="EvalInfRef.vue";var Mt=Tt.exports,At=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container home"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-5 is-offset-3"},[s("div",{staticClass:"box summary"},[s("div",{staticClass:"content"},[s("h1",[t._v("Assessment")]),s("h5",{staticClass:"my-header"},[t._v("Summary to be assessed")]),s("p",{staticClass:"my-summary"},[t._v(t._s(t.system_text))]),s("hr"),s("h5",{staticClass:"my-header"},[t._v("\n                          Your Assessment\n                      ")]),s("h5",{staticClass:"my-title"},[t._v("Fluency")]),s("p",{staticClass:"my-text"},[t._v(" Is there any grammatical mistake in the text?")]),s("p",{staticClass:"my-text"},[s("strong",[t._v(t._s(t.fluency)+" % ")]),t._v(" of text has grammatical mistake\n                      ")]),s("div",{staticClass:"level",attrs:{align:"center"}},[t._m(0),s("span",{staticClass:"level-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.fluency,expression:"fluency"}],staticClass:"my-slider slider is-info is-fullwidth",attrs:{type:"range",min:"0",max:"100"},domProps:{value:t.fluency},on:{__r:function(e){t.fluency=e.target.value}}})]),t._m(1)]),s("a",{staticClass:"button is-primary",attrs:{disabled:t.timer.isRunning},on:{click:function(e){t.saveEvaluation()}}},[t._v(t._s(t.timenow))])])])])])])},Gt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"level-left"},[s("label",{staticClass:"label is-small"},[t._v("No grammatical "),s("br"),t._v(" mistake")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"level-right"},[s("label",{staticClass:"label is-small"},[t._v("\n                                 Too many "),s("br"),t._v(" grammatical mistake")])])}],Rt=s("bc3a"),Ht=5;function Lt(){var t=this;Rt.get("project/evaluation/fluency/".concat(this.project_id,"/single_doc")).then(function(e){t.system_text=e.data.system_text,t.ref_text=e.data.ref_text,t.summ_status_id=e.data.summ_status_id}).catch(function(e){t.$toast.open({message:"".concat(e),type:"is-danger"})})}function Wt(t){var e=this;Rt.post("project/save_result/evaluation",t).then(function(){e.$toast.open({message:"Submission successful.",type:"is-success"})}).catch(function(t){e.$toast.open({message:"".concat(t),type:"is-danger"})})}var zt={data:function(){return{system_text:"",ref_text:"",fluency:50,project_id:this.$route.params.project_id,timer:{now:Math.trunc((new Date).getTime()/1e3),date:Math.trunc((new Date).getTime()/1e3),isRunning:!0,timer:null}}},methods:{saveEvaluation:function(){var t={project_id:this.project_id,status_id:this.summ_status_id,fluency:this.fluency,category:"fluency"};Wt.call(this,t)}},computed:{timenow:function(){if(!0===this.timer.isRunning){if(this.timer.now-this.timer.date<Ht)return"Wait ".concat(Ht-(this.timer.now-this.timer.date)," seconds");this.timer.isRunning=!1,window.clearInterval(this.timer.timer)}return"Click to submit"}},mounted:function(){var t=this;Lt.call(this),this.timer.timer=window.setInterval(function(){t.timer.now=Math.trunc((new Date).getTime()/1e3)},1e3)}},Yt=zt,Bt=(s("ac39"),Object(c["a"])(Yt,At,Gt,!1,null,null,null));Bt.options.__file="EvalFluency.vue";var Ft=Bt.exports,Jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v("\n    Email: "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.input.email,expression:"input.email"}],attrs:{type:"text",placeholder:"Username"},domProps:{value:t.input.email},on:{input:function(e){e.target.composing||t.$set(t.input,"email",e.target.value)}}}),t._v("\n    Password: "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.input.password,expression:"input.password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:t.input.password},on:{input:function(e){e.target.composing||t.$set(t.input,"password",e.target.value)}}}),s("button",{attrs:{type:"button"},on:{click:function(e){t.login()}}},[t._v("Login")])])},Qt=[],qt={name:"Login",data:function(){return{input:{email:"",password:""}}},methods:{login:function(){var t=this;""!==this.input.email&&""!==this.input.password&&this.$store.dispatch("login",{email:this.input.email,password:this.input.password}).then(function(){return t.$router.push("/")}).catch(function(t){return console.log(t)})}}},Ut=qt,Vt=(s("49de"),Object(c["a"])(Ut,Jt,Qt,!1,null,"674cb91e",null));Vt.options.__file="Login.vue";var Xt=Vt.exports,Kt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Zt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hero is-primary is-large"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"container"},[s("h1",{staticClass:"title"},[t._v("\n        Welcome to Summ-Eval!\n      ")]),s("h2",{staticClass:"subtitle"},[t._v("\n        An open source manual evaluation software for abstractive summarization!\n      ")])])])])}],te={name:"home",components:{}},ee=te,se=Object(c["a"])(ee,Kt,Zt,!1,null,null,null);se.options.__file="Home.vue";var ne=se.exports,ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t._m(0),s("div",[s("b-table",{attrs:{data:t.annotation_projects,striped:"true"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("b-table-column",{attrs:{field:"no",label:"No.",width:"40"}},[t._v("\n                    "+t._s(e.row.no)+"\n                ")]),s("b-table-column",{attrs:{field:"id",label:"ID",width:"40"}},[t._v("\n                    "+t._s(e.row.id)+"\n                ")]),s("b-table-column",{attrs:{field:"name",label:"Name"}},[t._v("\n                    "+t._s(e.row.name)+"\n                ")]),s("b-table-column",{attrs:{field:"category",label:"Category"}},[t._v("\n                    "+t._s(e.row.category)+"\n                ")]),s("b-table-column",{attrs:{field:"dataset_name",label:"Dataset"}},[t._v("\n                    "+t._s(e.row.dataset_name)+"\n                ")]),s("b-table-column",{attrs:{field:"created_at",label:"Created at",centered:""}},[t._v("\n                    "+t._s(new Date(e.row.created_at).toLocaleDateString())+"\n                ")]),s("b-table-column",{attrs:{field:"progress",label:"Progress"}},[s("progress",{staticClass:"progress is-success",attrs:{max:"1"},domProps:{value:e.row.progress}}),t._v("\n                    "+t._s(e.row.progress.toLocaleString("en",{style:"percent",maximumSignificantDigits:2}))+"\n                ")]),s("b-table-column",{attrs:{label:"Link for Participants"}},[s("b-field",[s("b-input",{attrs:{"icon-pack":"fas",icon:"link",value:e.row.link,readonly:"",size:"is-small"}})],1)],1),s("b-table-column",{attrs:{field:"id",label:"Close Project"}},[s("a",{staticClass:"button is-danger is-outlined is-small",on:{click:function(s){t.close_project(e.row.id)}}},[s("span",[t._v("Close")]),s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"fas fa-times"})])])])]}}])},[s("template",{slot:"empty"},[s("section",{staticClass:"section"},[s("div",{staticClass:"content has-text-grey has-text-centered"},[s("p",[s("b-icon",{attrs:{icon:"frown",pack:"fas",size:"is-large"}})],1),s("p",[t._v("There is no active annotation project in database.")])])])])],2)],1),s("hr"),t._m(1),s("div",[s("b-table",{attrs:{data:t.evaluation_projects,striped:"true"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("b-table-column",{attrs:{field:"no",label:"No.",width:"40"}},[t._v("\n                    "+t._s(e.row.no)+"\n                ")]),s("b-table-column",{attrs:{field:"id",label:"ID",width:"40"}},[t._v("\n                    "+t._s(e.row.id)+"\n                ")]),s("b-table-column",{attrs:{field:"name",label:"Name"}},[t._v("\n                    "+t._s(e.row.name)+"\n                ")]),s("b-table-column",{attrs:{field:"category",label:"Category"}},[t._v("\n                    "+t._s(e.row.category)+"\n                ")]),s("b-table-column",{attrs:{field:"dataset_name",label:"Dataset"}},[t._v("\n                    "+t._s(e.row.dataset_name)+"\n                ")]),s("b-table-column",{attrs:{field:"summ_group_name",label:"Summary Group"}},[t._v("\n                    "+t._s(e.row.summ_group_name)+"\n                ")]),s("b-table-column",{attrs:{field:"created_at",label:"Created at",centered:""}},[t._v("\n                    "+t._s(new Date(e.row.created_at).toLocaleDateString())+"\n                ")]),s("b-table-column",{attrs:{field:"progress",label:"Progress"}},[s("progress",{staticClass:"progress is-success",attrs:{max:"1"},domProps:{value:e.row.progress}}),t._v("\n                    "+t._s(e.row.progress.toLocaleString("en",{style:"percent",maximumSignificantDigits:2}))+"\n                ")]),s("b-table-column",{attrs:{label:"Link for Participants"}},[s("b-field",[s("b-input",{attrs:{"icon-pack":"fas",icon:"link",value:e.row.link,readonly:"",size:"is-small"}})],1)],1),s("b-table-column",{attrs:{field:"id",label:"Close Project"}},[s("a",{staticClass:"button is-danger is-outlined is-small",on:{click:function(s){t.close_project(e.row.id)}}},[s("span",[t._v("Close")]),s("span",{staticClass:"icon is-small"},[s("i",{staticClass:"fas fa-times"})])])])]}}])},[s("template",{slot:"empty"},[s("section",{staticClass:"section"},[s("div",{staticClass:"content has-text-grey has-text-centered"},[s("p",[s("b-icon",{attrs:{icon:"frown",pack:"fas",size:"is-large"}})],1),s("p",[t._v("There is no active evaluation project in database.")])])])])],2)],1)])},ie=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("h3",[t._v("Annotation Projects")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("h3",[t._v("Evaluation Projects")])])}],oe=s("e49b"),re=s("6d8d"),ce=s("bc3a"),le={name:"ManageProject",components:{BTableColumn:re["a"],BTable:oe["a"]},data:function(){return{annotation_projects:[],evaluation_projects:[]}},methods:{close_project:function(t){var e=this;this.$dialog.confirm({message:"Do you want to close project ".concat(t,"?"),onConfirm:function(){ce.post("project/".concat(t,"/close")).then(function(){e.$toast.open({message:"Project ".concat(t," has been closed"),type:"is-success"})}).catch(function(t){e.$toast.open({message:"".concat(t),type:"is-danger"})})}})}},beforeCreate:function(){var t=this;ce.get("project/all_progress/annotation").then(function(e){t.annotation_projects=e.data.projects}).catch(function(e){t.$toast.open({message:"".concat(e),type:"is-danger"})}),ce.get("project/all_progress/evaluation").then(function(e){t.evaluation_projects=e.data.projects}).catch(function(e){t.$toast.open({message:"".concat(e),type:"is-danger"})})}},ue=le,he=(s("af9a"),Object(c["a"])(ue,ae,ie,!1,null,"6b85c589",null));he.options.__file="ManageProject.vue";var me=he.exports,de=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"tile is-ancestor"},[s("div",{staticClass:"tile is-parent"},[s("div",{staticClass:"tile is-child tabs"},[s("ul",[s("li",{class:{"is-active":t.isActive.annotation},on:{click:function(e){t.toggleActive("annotation")}}},[s("router-link",{attrs:{to:"/new/annotation"}},[t._v("Annotation")])],1),s("li",{class:{"is-active":t.isActive.evaluation},on:{click:function(e){t.toggleActive("evaluation")}}},[s("router-link",{attrs:{to:"/new/evaluation"}},[t._v("Evaluation")])],1)])])])]),s("div",{staticClass:"tile is-ancestor"},[s("div",{staticClass:"tile is-parent is-5"},[s("div",{staticClass:"tile is-child"},[s("router-view")],1)])])])},pe=[],fe={name:"NewProject",data:function(){return{isActive:{annotation:!0,evaluation:!1}}},methods:{toggleActive:function(t){"annotation"===t?(this.isActive.annotation=!0,this.isActive.evaluation=!1):"evaluation"===t&&(this.isActive.evaluation=!0,this.isActive.annotation=!1)}}},ve=fe,ge=(s("26a7"),Object(c["a"])(ve,de,pe,!1,null,"21730f35",null));ge.options.__file="NewProject.vue";var _e=ge.exports,be=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v("This is status page")])},ye=[],we={name:"Status"},Ce=we,xe=(s("02bc"),Object(c["a"])(Ce,be,ye,!1,null,"116b7584",null));xe.options.__file="Status.vue";var je=xe.exports,$e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("label",{staticClass:"label"},[t._v("Create a New Highlight Annotation Project")]),s("b-field",{attrs:{horizontal:"",label:"Name",message:"Please enter the project name"}},[s("b-input",{attrs:{name:"name",expanded:""},model:{value:t.project.name,callback:function(e){t.$set(t.project,"name",e)},expression:"project.name"}})],1),s("b-field",{attrs:{horizontal:"",label:"Dataset"}},[s("b-select",{attrs:{placeholder:"Select a dataset",icon:"database","icon-pack":"fas"},model:{value:t.project.dataset_name,callback:function(e){t.$set(t.project,"dataset_name",e)},expression:"project.dataset_name"}},t._l(t.dataset.names,function(e){return s("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],1),s("b-field",{attrs:{horizontal:"",label:"# of annotation",message:"Number of annotation per document"}},[s("b-input",{attrs:{name:"total_exp_results",type:"number"},model:{value:t.project.total_exp_results,callback:function(e){t.$set(t.project,"total_exp_results",t._n(e))},expression:"project.total_exp_results"}})],1),s("button",{staticClass:"button is-primary",on:{click:t.createProject}},[t._v("Create Project")])],1)},ke=[],Se=s("bc3a"),Ee={name:"NewAnnotation",data:function(){return{dataset:{names:[]},project:{name:"",dataset_name:null,category:"highlight",total_exp_results:1}}},methods:{createProject:function(){var t=this;Se.post("/project/annotation",this.project).then(function(){t.$toast.open({message:"Project created!",type:"is-success"})}).catch(function(e){t.$toast.open({message:"Project is not created! Something is wrong",type:"is-danger"}),console.log(e)})}},beforeCreate:function(){var t=this;Se.get("dataset").then(function(e){204===e.status?t.$toast.open({message:"There is no dataset in database. Please insert dataset first!",type:"is-danger"}):t.dataset.names=e.data.names}).catch(function(t){console.log(t)})}},Ie=Ee,De=(s("6f56"),Object(c["a"])(Ie,$e,ke,!1,null,"c9df07d8",null));De.options.__file="NewAnnotation.vue";var Pe=De.exports,Ne=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("label",{staticClass:"label"},[t._v("Create a New Project for Manual Evaluation")]),s("b-field",{attrs:{horizontal:"",label:"Name",message:"Please enter the project name"}},[s("b-input",{attrs:{name:"name",expanded:""},model:{value:t.project.name,callback:function(e){t.$set(t.project,"name",e)},expression:"project.name"}})],1),s("b-field",{attrs:{horizontal:"",label:"Category"}},[s("b-select",{attrs:{placeholder:"Select evaluation category",icon:"wrench","icon-pack":"fas"},model:{value:t.project.category,callback:function(e){t.$set(t.project,"category",e)},expression:"project.category"}},[s("option",{attrs:{value:"Informativeness_Doc"}},[t._v("Informativeness on Document")]),s("option",{attrs:{value:"Informativeness_Ref"}},[t._v("Informativeness on Reference")]),s("option",{attrs:{value:"Fluency"}},[t._v("Fluency")])])],1),s("b-field",{attrs:{horizontal:"",label:"Dataset"}},[s("b-select",{attrs:{placeholder:"Select a dataset",icon:"database","icon-pack":"fas"},model:{value:t.project.dataset_name,callback:function(e){t.$set(t.project,"dataset_name",e)},expression:"project.dataset_name"}},t._l(t.names.dataset,function(e){return s("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],1),s("b-field",{attrs:{horizontal:"",label:"Summary Group"}},[s("b-select",{attrs:{placeholder:"Select a summary group",icon:"file","icon-pack":"fas"},model:{value:t.project.summ_group_name,callback:function(e){t.$set(t.project,"summ_group_name",e)},expression:"project.summ_group_name"}},t._l(t.names.summ_group,function(e){return s("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],1),s("b-field",{attrs:{horizontal:"",label:"# of evaluation",message:"Number of evaluation per document"}},[s("b-input",{attrs:{name:"total_exp_results",type:"number"},model:{value:t.project.total_exp_results,callback:function(e){t.$set(t.project,"total_exp_results",t._n(e))},expression:"project.total_exp_results"}})],1),s("button",{staticClass:"button is-primary",on:{click:t.createProject}},[t._v("Create Project")])],1)},Oe=[],Te=s("bc3a"),Me={name:"NewEvaluation",data:function(){return{names:{dataset:[],summ_group:[]},project:{name:"",dataset_name:null,sum_group_name:null,category:null,total_exp_results:1}}},methods:{createProject:function(){var t=this;Te.post("/project/evaluation",this.project).then(function(){t.$toast.open({message:"Project created!",type:"is-success"})}).catch(function(e){t.$toast.open({message:"Project is not created! Something is wrong",type:"is-danger"}),console.log(e)})}},mounted:function(){var t=this;Te.get("dataset").then(function(e){204===e.status?t.$toast.open({message:"There is no dataset in database. Please insert dataset first!",type:"is-danger"}):t.names.dataset=e.data.names}).catch(function(t){console.log(t)}),Te.get("summ_group").then(function(e){204===e.status?t.$toast.open({message:"There is no summary group in database. Please insert summary group first!",type:"is-danger"}):t.names.summ_group=e.data.names}).catch(function(t){console.log(t)})}},Ae=Me,Ge=(s("6719"),Object(c["a"])(Ae,Ne,Oe,!1,null,"c40cb5cc",null));Ge.options.__file="NewEvaluation.vue";var Re=Ge.exports;n["default"].use(m["a"]);var He=new m["a"]({routes:[{path:"/",name:"home",component:ne},{path:"/new",component:_e,children:[{path:"",component:Pe},{path:"annotation",component:Pe},{path:"evaluation",component:Re}]},{path:"/manage",name:"manage",component:me},{path:"/status",component:je},{path:"/annotation/highlight/:project_id",name:"annotation",component:ot},{path:"/evaluation/informativeness_doc/:project_id",name:"evalinfdoc",component:$t},{path:"/evaluation/informativeness_ref/:project_id",name:"evalinfref",component:Mt},{path:"/evaluation/fluency/:project_id",name:"fluency",component:Ft},{path:"/login",name:"login",component:Xt}]}),Le=s("2f62"),We=s("bc3a"),ze=s.n(We);function Ye(t){return ze.a.post("/login",t)}s("28a5");var Be=new n["default"];function Fe(t){if(!t||t.split(".").length<3)return!1;var e=JSON.parse(atob(t.split(".")[1])),s=new Date(1e3*e.exp),n=new Date;return n<s}n["default"].use(Le["a"]);var Je={isAuthenticated:function(t){return Fe(t.jwt.token)}},Qe={login:function(t,e){return Ye(e).then(function(e){return t.commit("setJWTToken",{jwt:e.data})}).catch(function(t){Be.emit("failedAuthentication",t)})}},qe={setJWTToken:function(t,e){localStorage.token=e.jwt.token,t.jwt=e.jwt}},Ue={jwt:""},Ve=new Le["a"].Store({actions:Qe,mutations:qe,state:Ue,getters:Je}),Xe=Ve;n["default"].config.productionTip=!1,n["default"].use(i.a),new n["default"]({router:He,store:Xe,render:function(t){return t(h)}}).$mount("#app")},5739:function(t,e,s){},"5c0b":function(t,e,s){"use strict";var n=s("5e27"),a=s.n(n);a.a},"5e27":function(t,e,s){},6719:function(t,e,s){"use strict";var n=s("2c52"),a=s.n(n);a.a},"6f56":function(t,e,s){"use strict";var n=s("740a"),a=s.n(n);a.a},"740a":function(t,e,s){},"76db":function(t,e,s){},9974:function(t,e,s){"use strict";var n=s("c816"),a=s.n(n);a.a},a33d:function(t,e,s){},ac39:function(t,e,s){"use strict";var n=s("3068"),a=s.n(n);a.a},af9a:function(t,e,s){"use strict";var n=s("cccf"),a=s.n(n);a.a},bd0e:function(t,e,s){"use strict";var n=s("e3b5"),a=s.n(n);a.a},c816:function(t,e,s){},cccf:function(t,e,s){},d05a:function(t,e,s){},d205:function(t,e,s){},d237:function(t,e,s){"use strict";var n=s("d05a"),a=s.n(n);a.a},e3b5:function(t,e,s){}});
//# sourceMappingURL=app.bdd3a84b.js.map